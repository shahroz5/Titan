<div id="reason" *ngIf="advanceBookingDetailsResponse" class="pw-detail-card">
  <div [formGroup]="requestDetailForm" class="row">
    <div class="col-auto" *ngIf="actionType === 'freeze'">
      <p class="pw-fourth-color">
        {{ 'pw.advanceBooking.freezeRates' | translate }}
      </p>
      <mat-radio-group>
        <mat-radio-button class="pw-radio-btn mr-3" checked="true" value="true">
          <mat-label class="pw-radio-btn__label pw-success-color">
            {{ 'pw.advanceBooking.ABOption1' | translate }}</mat-label
          >
        </mat-radio-button>
        <mat-radio-button [disabled]="true" class="pw-radio-btn" value="false">
          <mat-label class="pw-radio-btn__label pw-error-color">
            {{ 'pw.advanceBooking.ABOption2' | translate }}</mat-label
          >
        </mat-radio-button>
      </mat-radio-group>
    </div>

    <mat-form-field *ngIf="actionType === 'cancel-request'" class="col-auto">
      <mat-label>{{
        'pw.advanceBooking.reasonforCancellation' | translate
      }}</mat-label>
      <input
        matInput
        type="text"
        (blur)="formEmit()"
        class="pw-single-bordered-input"
        placeholder="Reason for Cancellation"
        [formControl]="requestDetailForm"
      />
      <mat-error
        *ngIf="
          requestDetailForm?.errors && requestDetailForm?.errors?.errorArray
        "
      >
        <poss-web-error-info-tooltip
          [errorMessage]="requestDetailForm?.errors?.errorArray"
        ></poss-web-error-info-tooltip>
      </mat-error>
    </mat-form-field>
  </div>
  <div class="pw-detail-card__secondary-section">
    <div class="row">
      <div class="col-lg-auto col-auto">
        <div class="pw-detail-card__label">
          {{ 'pw.advanceBooking.ABDocNumber' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{ advanceBookingDetailsResponse.docNo }}
        </div>
      </div>

      <div class="col-lg-auto col-auto">
        <div class="pw-detail-card__label">
          {{ 'pw.advanceBooking.ABDocDate' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{
            dateFormat(advanceBookingDetailsResponse.docDate) | dateFormatter
          }}
        </div>
      </div>

      <div *ngIf="actionType !== 'freeze'" class="col-lg-auto col-auto">
        <div class="pw-detail-card__label">
          {{ 'pw.advanceBooking.rateOption' | translate }}
        </div>
        <div
          *ngIf="advanceBookingDetailsResponse.isBestRate"
          class="pw-font-weight-bold"
        >
          <span>{{ 'pw.advanceBooking.bestGoldRate' | translate }}</span>
        </div>
        <div
          *ngIf="!advanceBookingDetailsResponse.isBestRate"
          class="pw-font-weight-bold"
        >
          <span *ngIf="advanceBookingDetailsResponse.isFrozenRate">{{
            'pw.advanceBooking.frozen' | translate
          }}</span>
          <span *ngIf="!advanceBookingDetailsResponse.isFrozenRate">{{
            'pw.advanceBooking.nonFrozen' | translate
          }}</span>
        </div>
      </div>

      <div class="col-lg-auto col-auto">
        <div class="pw-detail-card__label">
          {{ 'pw.advanceBooking.remarks' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{ advanceBookingDetailsResponse.remarks }}
        </div>
      </div>
      <div
        *ngIf="advanceBookingDetailsResponse.isFrozenRate"
        class="col-lg-auto col-auto"
      >
        <div class="pw-detail-card__label">
          {{ 'pw.advanceBooking.frozenGoldRate' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{
            advanceBookingDetailsResponse.metalRateList?.metalRates?.J
              ?.ratePerUnit | currencyFormatter: currencyCode
          }}
        </div>
      </div>
    </div>
  </div>
</div>
