<div class="pw-confirmation-box" [formGroup]="tepExceptionFormGroup">
  <div
    class="row pw-confirmation-box__header"
    cdkDragBoundary=".cdk-overlay-container"
    cdkDragRootElement=".cdk-overlay-pane"
    cdkDrag
    cdkDragHandle
  >
    <div class="col-auto"> {{ 'pw.tepExceptionConfig.tepException' | translate }} </div>
  </div>
  <div class="row pw-confirmation-box__item">
    <div class="col-4 pw-form-card__align-center">
      <div class="pw-tertiary-color">
       {{ 'pw.tepExceptionConfig.variantCode' | translate }}
      </div>
    </div>
    <div class="pw-form-card__align-center">:</div>
    <div class="col-6">
      <div class="row">
        <div class="col-12">
          {{ variantCode }}
        </div>
      </div>
    </div>
  </div>
  <div class="row pw-confirmation-box__item">
    <div class="col-4 pw-form-card__align-center">
      <div class="pw-tertiary-color">
       {{ 'pw.tepExceptionConfig.valueFor' | translate }}
      </div>
    </div>
    <div class="pw-form-card__align-center">:</div>
    <div class="col-6">
      <mat-radio-group
        class="row"
        aria-label="Select an option"
        formControlName="exceptionTypeRadioGroup"
      >
        <mat-radio-button value="1" class="col-12">
          {{
            'pw.tepExceptionConfig.deductionPercentage' | translate
          }}</mat-radio-button
        >
        <mat-radio-button value="2" class="col-12">{{
          'pw.tepExceptionConfig.flatTepExhangeValue' | translate
        }}</mat-radio-button>
      </mat-radio-group>
    </div>
  </div>
  <div class="row pw-confirmation-box__item">
    <div class="col-4 pw-form-card__align-center">
      <div class="pw-tertiary-color">
        {{ 'pw.tepExceptionConfig.deductionPercentage' | translate }}
      </div>
    </div>
    <div class="pw-form-card__align-center">:</div>
    <div class="col-6">
      <div class="row">
        <mat-form-field class="col-12">
          <input
            matInput
            formControlName="deductionPercentage"
            autocomplete="off"
          />
          <mat-error
          *ngIf="
          tepExceptionFormGroup.get('deductionPercentage').errors &&
          tepExceptionFormGroup.get('deductionPercentage').errors.errorArray
          "
        >
          <poss-web-error-info-tooltip
            [errorMessage]="
            tepExceptionFormGroup.get('deductionPercentage').errors.errorArray
            "
          ></poss-web-error-info-tooltip>
        </mat-error>
        </mat-form-field>
      </div>
    </div>
  </div>
  <div class="row pw-confirmation-box__item">
    <div class="col-4 pw-form-card__align-center">
      <div class="pw-tertiary-color">
        {{ 'pw.tepExceptionConfig.flatTepExhangeValue' | translate }}
      </div>
    </div>
    <div class="pw-form-card__align-center">:</div>
    <div class="col-6">
      <div class="row">
        <mat-form-field class="col-12">
          <input
            matInput
            formControlName="flatTepExchangeAmount"
            autocomplete="off"
            possWebAmountInput
          />
          <mat-error
            *ngIf="
            tepExceptionFormGroup.get('flatTepExchangeAmount').errors &&
            tepExceptionFormGroup.get('flatTepExchangeAmount').errors.errorArray
            "
          >
            <poss-web-error-info-tooltip
              [errorMessage]="
              tepExceptionFormGroup.get('flatTepExchangeAmount').errors.errorArray
              "
            ></poss-web-error-info-tooltip>
          </mat-error>
        </mat-form-field>
      </div>
    </div>
  </div>
  <div class="row pw-confirmation-box__item">
    <div class="col-4 pw-form-card__align-center">
      <div class="pw-tertiary-color">
        {{ 'pw.tepExceptionConfig.approvedBy' | translate }}
      </div>
    </div>
    <div class="pw-form-card__align-center">:</div>
    <div class="col-6">
      <div class="row">
        <mat-form-field class="col-12">
          <input
            matInput
            formControlName="approvedBy"
            autocomplete="off"
          />
          <mat-error
          *ngIf="
          tepExceptionFormGroup.get('approvedBy').errors &&
          tepExceptionFormGroup.get('approvedBy').errors.errorArray
          "
        >
          <poss-web-error-info-tooltip
            [errorMessage]="
            tepExceptionFormGroup.get('approvedBy').errors.errorArray
            "
          ></poss-web-error-info-tooltip>
        </mat-error>
        </mat-form-field>
      </div>
    </div>
  </div>
  <div class="row pw-confirmation-box__footer-border">
    <div class="col-auto ml-auto">
      <button class="pw-btn pw-primary-btn" (click)="onClose()">
        {{ 'pw.materialPrice.closeLabel' | translate }}
      </button>
    </div>
    <div class="col-auto">
      <button class="pw-btn pw-accent-btn" (click)="save()" [disabled]="!tepExceptionFormGroup?.valid">
        {{ 'pw.summaryBar.requestForApprovalLabel' | translate }}
      </button>
    </div>
  </div>
</div>
