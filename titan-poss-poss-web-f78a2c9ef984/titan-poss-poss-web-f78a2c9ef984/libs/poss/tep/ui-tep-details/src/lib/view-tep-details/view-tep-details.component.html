<div *ngIf="workflowDetails" class="pw-detail-card">
  <div class="row">
    <div class="col-lg-3 col-3">
      <div class="pw-detail-card__label">
        {{ 'pw.tep.cmDocNO' | translate }}
      </div>
      <div class="pw-font-weight-bold">
        {{workflowDetails.headerData.data.cashMemoDetailsId ? workflowDetails.headerData.data.cmDocNo : '' }}
      </div>
    </div>

    <div class="col-lg-3 col-3">
      <div class="pw-detail-card__label">
        {{ 'pw.tep.reqNo' | translate }}
      </div>
      <div class="pw-font-weight-bold">
        {{ workflowDetails.docNo }}
      </div>
    </div>

    <div class="col-lg-3 col-3">
      <div class="pw-detail-card__label">
        {{ 'pw.tep.status' | translate }}
      </div>
      <div
        [ngClass]="
          getRequestStatusColor(
            workflowDetails.approvalStatus ? workflowDetails.approvalStatus : ''
          )
        "
      >
        {{ workflowDetails.approvalStatus }}
      </div>
    </div>

    <div class="col-lg-3 col-3">
      <div class="pw-detail-card__label">
        {{ 'pw.tep.approvedBy' | translate }}
      </div>
      <div class="pw-font-weight-bold">
        {{ workflowDetails.approvedby }}
      </div>
    </div>
  </div>
  <div class="pw-detail-card__secondary-section">
    <div class="row">
      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.tep.requestDate' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{ dateFormat(workflowDetails.docDate) | dateFormatter }}
        </div>
      </div>

      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.tep.approverRemarks' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{ workflowDetails.approverRemarks }}
        </div>
      </div>

      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.tep.tepType' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{ getTepType(tepType) }}
        </div>
      </div>

      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.tep.rsoName' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{ workflowDetails.headerData.data.employeeCode }}
        </div>
      </div>
    </div>
  </div>

  <div
    *ngIf="
      getTepType(tepType) === 'Manual TEP' ||
      getTepType(tepType) === 'Manual Full value TEP'
    "
    class="pw-detail-card__secondary-section"
  >
    <div class="row">
      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.cmRequestApproval.billNumberLabel' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{
            workflowDetails.headerData.data.manualDetails.manualBillDetails
              ?.manualBillNo
          }}
        </div>
      </div>

      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.tep.manualBillAmount' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{
            workflowDetails.headerData.data.manualDetails.manualBillDetails
              ?.manualBillValue | currencyFormatter: currencyCode
          }}
        </div>
      </div>

      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.tep.manualBillReason' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{
            workflowDetails.headerData.data.manualDetails.manualBillDetails
              ?.remarks
          }}
        </div>
      </div>

      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.tep.manualBillGoldRate' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{
            workflowDetails.headerData.data.manualDetails.manualBillDetails
              ?.metalRates?.J?.ratePerUnit | currencyFormatter: currencyCode
          }}
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="tepDetails && !workflowDetails" class="pw-detail-card">
  <div class="row">
    <div class="col-lg-3 col-3">
      <div class="pw-detail-card__label">
        {{ 'pw.tep.docNo' | translate }}
      </div>
      <div class="pw-font-weight-bold">
        {{ tepDetails?.docNo }}
      </div>
    </div>

    <div class="col-lg-3 col-3">
      <div class="pw-detail-card__label">
        {{ 'pw.tep.doDateHeaderLabel' | translate }}
      </div>
      <div class="pw-font-weight-bold">
        {{ dateFormat(tepDetails?.docDate) | dateFormatter }}
      </div>
    </div>

    <div class="col-lg-3 col-3">
      <div class="pw-detail-card__label">
        {{ 'pw.tep.status' | translate }}
      </div>
      <div
        [ngClass]="getStatusColor(tepDetails?.status ? tepDetails?.status : '')"
      >
        {{ tepDetails?.status }}
      </div>
    </div>

    <div class="col-lg-3 col-3">
      <div class="pw-detail-card__label">
        {{ 'pw.tep.tepType' | translate }}
      </div>
      <div class="pw-font-weight-bold">
        {{ getTepType(tepDetails?.subTxnType) }}
      </div>
    </div>
  </div>

  <div
    *ngIf="
      getTepType(tepDetails?.subTxnType) === 'Manual TEP' ||
      getTepType(tepDetails?.subTxnType) === 'Manual Full value TEP'
    "
    class="pw-detail-card__secondary-section"
  >
    <div class="row">
      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.cmRequestApproval.billNumberLabel' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{
            tepDetails.headerData.data.manualDetails.manualBillDetails
              ?.manualBillNo
          }}
        </div>
      </div>

      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.advanceBooking.manualBillAmount' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{
            tepDetails.headerData.data.manualDetails.manualBillDetails
              ?.manualBillValue | currencyFormatter: currencyCode
          }}
        </div>
      </div>

      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.advanceBooking.manualBillReason' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{
            tepDetails.headerData.data.manualDetails.manualBillDetails?.remarks
          }}
        </div>
      </div>

      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.advanceBooking.manualBillGoldRate' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{
            tepDetails.headerData.data.manualDetails.manualBillDetails
              ?.metalRates?.J?.ratePerUnit | currencyFormatter: currencyCode
          }}
        </div>
      </div>
    </div>
  </div>
  <div class="pw-detail-card__secondary-section">
    <div class="row">
      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.tep.remarks' | translate }}
        </div>
        <div class="pw-font-weight-bold">{{ tepDetails?.remarks }}</div>
      </div>

      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.tep.rsoName' | translate }}
        </div>
        <div matTooltip = "{{ tepDetails?.employeeCode }}"class="pw-font-weight-bold">
          {{ getRsoNameFromCode(tepDetails?.employeeCode) }}
        </div>
      </div>
    </div>
  </div>

</div>
<div *ngIf="cancelDetails && !workflowDetails" class="pw-detail-card">
  <div class="pw-detail-card__heading">
    {{ 'pw.tep.TEPDeatils' | translate }}
  </div>
  <div class="row">
    <div class="col-lg-3 col-3">
      <div class="pw-detail-card__label">
        {{ 'pw.tep.docNo' | translate }}
      </div>
      <div class="pw-font-weight-bold">
        {{ cancelDetails.docNo }}
      </div>
    </div>

    <div class="col-lg-3 col-3">
      <div class="pw-detail-card__label">
        {{ 'pw.tep.doDateHeaderLabel' | translate }}
      </div>

      <div class="pw-font-weight-bold">
        {{ dateFormat(cancelDetails?.docDate) | dateFormatter }}
      </div>
    </div>

    <div class="col-lg-3 col-3">
      <div class="pw-detail-card__label">
        {{ 'pw.tep.status' | translate }}
      </div>
      <div
        [ngClass]="
          getStatusColor(cancelDetails.status ? cancelDetails.status : '')
        "
      >
        {{ cancelDetails.status }}
      </div>
    </div>

    <div class="col-lg-3 col-3">
      <div class="pw-detail-card__label">
        {{ 'pw.tep.tepType' | translate }}
      </div>
      <div class="pw-font-weight-bold">
        {{ getTepType(tepType) }}
      </div>
    </div>
  </div>

  <div
    *ngIf="
      getTepType(tepType) === 'Manual TEP' ||
      getTepType(tepType) === 'Manual Full value TEP'
    "
    class="pw-detail-card__secondary-section"
  >
    <div class="row">
      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.cmRequestApproval.billNumberLabel' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{ cancelDetails.manualBillDetails.manualBillDetails?.manualBillNo }}
        </div>
      </div>

      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.tep.manualBillAmount' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{
            cancelDetails.manualBillDetails.manualBillDetails?.manualBillValue
              | currencyFormatter: currencyCode
          }}
        </div>
      </div>

      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.tep.manualBillReason' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{ cancelDetails.manualBillDetails.manualBillDetails?.remarks }}
        </div>
      </div>

      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.tep.manualBillGoldRate' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{
            cancelDetails.manualBillDetails.manualBillDetails?.metalRates?.J
              ?.ratePerUnit | currencyFormatter: currencyCode
          }}
        </div>
      </div>
    </div>
  </div>

  <div class="pw-detail-card__secondary-section">
    <div class="row">
      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.tep.remarks' | translate }}
        </div>
        <div class="pw-font-weight-bold">{{ cancelDetails?.remarks }}</div>
      </div>

      <div class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.tep.rsoName' | translate }}
        </div>
        <div  matTooltip = "{{ cancelDetails?.employeeCode }}" class="pw-font-weight-bold">
          {{ getRsoNameFromCode(cancelDetails?.employeeCode) }}
        </div>
      </div>

      <div *ngIf="cancelDetails?.cnDocNo" class="col-lg-3 col-3">
        <div class="pw-detail-card__label">
          {{ 'pw.tep.cnDocNoPlaceholder' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{ cancelDetails?.cnDocNo }}
        </div>
      </div>
    </div>
  </div>
  <div class="pw-detail-card__secondary-section">
    <div class="row">
      <div class="col-lg-3 col-3" *ngIf='cancelDetails?.custTaxNoOld'>
        <div class="pw-detail-card__label">
          {{ 'pw.cashMemoHistory.oldPanCardLabel' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{
            cancelDetails?.custTaxNoOld
          }}
        </div>
      </div>
      <div class="col-lg-3 col-3" *ngIf='cancelDetails?.custTaxNo'>
        <div class="pw-detail-card__label">
          {{ 'pw.cashMemoHistory.panCardLabel' | translate }}
        </div>
        <div class="pw-font-weight-bold">
          {{
            cancelDetails?.custTaxNo
          }}
        </div>
      </div>
    </div>
  </div>
</div>
