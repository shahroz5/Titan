<div class="pw-detail-card" *ngIf="selectedHistoryItem">
  <div class="row">
    <div class="col-2">
      <div class="pw-detail-card__label">
        {{ 'pw.grf.grfNumber' | translate }}
      </div>
      <div class="pw-font-weight-bold">
        {{ selectedHistoryItem?.docNo ? selectedHistoryItem?.docNo : '-' }}
      </div>
    </div>
    <div class="col-2">
      <div class="pw-detail-card__label">
        {{ 'pw.acceptAdvance.creditNoteNumber' | translate }}
      </div>
      <div class="pw-font-weight-bold">
        {{ selectedHistoryItem?.cnDocNo ? selectedHistoryItem?.cnDocNo : '-' }}
      </div>
    </div>
    <div class="col-2">
      <div class="pw-detail-card__label">
        {{ 'pw.acceptAdvance.date' | translate }}
      </div>
      <div class="pw-font-weight-bold">
        {{
          selectedHistoryItem?.docDate
            ? (dateFormat(selectedHistoryItem?.docDate) | dateFormatter)
            : '-'
        }}
      </div>
    </div>
    <div class="col-2">
      <div class="pw-detail-card__label">
        {{ 'pw.acceptAdvance.rsoName' | translate }}
      </div>
      <div matTooltip="{{selectedRsoObj?.value }}" class="pw-font-weight-bold">
        {{ selectedRsoObj?.description ? selectedRsoObj?.description : '-' }}
      </div>
    </div>
    <div class="col-2">
      <div class="pw-detail-card__label">
        {{ 'pw.grf.frozenGoldRateLabel' | translate }}
      </div>
      <div class="pw-font-weight-bold">
        {{
          selectedHistoryItem?.frozenRateDetails?.data?.ratePerUnit
            ? (selectedHistoryItem?.frozenRateDetails?.data?.ratePerUnit
              | currencyFormatter: currencyCode)
            : '-'
        }}/{{ 'gm' }}
      </div>
    </div>
    <div class="col-2">
      <div class="pw-detail-card__label">
        {{ 'pw.acceptAdvance.status' | translate }}
      </div>
      <div class="pw-font-weight-bold">
        {{
          mergedItemPaymentDetails.length > 0
            ? 'GRF CN Merged'
            : selectedHistoryItem?.status
            ? selectedHistoryItem?.status
            : '-'
        }}
      </div>
    </div>


    <!-- <poss-web-ui-rso-name
        class="col-lg-2 col-3 pw_top"
        [rsoNamesList]="rsoNamesList"
        [selectedRso]="selectedRso"
        [clearSelectedRsoName]="clearSelectedRsoName"
      >
      </poss-web-ui-rso-name> -->
  </div>
  <div class="row pw-detail-card__row pw-detail-card__secondary-section">
    <div class="col-2">
      <div class="pw-detail-card__label">
        {{ 'pw.grf.remarks' | translate }}
      </div>
      <div class="pw-font-weight-bold">
        {{ selectedHistoryItem?.remarks ? selectedHistoryItem?.remarks : '-' }}
      </div>
    </div>
    <div class="col-2" *ngIf='selectedHistoryItem?.custTaxNoOld'>
      <div class="pw-detail-card__label">
        {{ 'pw.cashMemoHistory.oldPanCardLabel' | translate }}
      </div>
      <div class="pw-font-weight-bold">
        {{
          selectedHistoryItem?.custTaxNoOld
        }}
      </div>
    </div>
    <div class="col-auto" *ngIf='selectedHistoryItem?.custTaxNo'>
      <div class="pw-detail-card__label">
        {{ 'pw.cashMemoHistory.panCardLabel' | translate }}
      </div>
      <div class="pw-font-weight-bold">
        {{
          selectedHistoryItem?.custTaxNo
        }}
      </div>
    </div>
  </div>
</div>

<div class="pw-detail-card" *ngIf="mergedItemPaymentDetails.length > 0">
  <div class="pw-detail-card__heading">
    {{ 'pw.payment.paymentDetailsLabel' | translate }}
  </div>
  <div>
    <poss-web-payment-view
      [paymentDetails]="mergedItemPaymentDetails"
      [totalPaidAmount]="totalPaidAmount"
      [showRemainingAmount]="false"
    ></poss-web-payment-view>
  </div>
</div>

<poss-web-upload-details
  *ngIf="filesList.length > 0"
  [filesList]="filesList"
  (view)="loadImageUrl($event)"
></poss-web-upload-details>
<poss-web-loader
  *ngIf="
    (isLoading$ | async) ||
    (isCommonFacadeLoading$ | async) ||
    (isCustomerFacadeLoading$ | async) ||
    (printingService.getPrinterIsLoading() | async)
  "
></poss-web-loader>
