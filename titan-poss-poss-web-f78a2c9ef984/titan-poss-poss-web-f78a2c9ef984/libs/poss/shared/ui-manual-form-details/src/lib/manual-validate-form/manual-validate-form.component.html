<form
  [formGroup]="validatePasswordForm"
  (ngSubmit)="onSubmit()"
  novalidate
  #validatePasswordFormDirective="ngForm"
  autocomplete="off"
>
  <div class="row pw-detail-card__item">
    <mat-form-field class="col-lg-3 col-4">
      <input
        matInput
        type="text"
        placeholder="{{
          'pw.manualCashMemo.billNumberPlaceHolder' | translate
        }}"
        class="pw-single-bordered-input"
        formControlName="manualBillNo"
        required
      />
      <mat-error
        *ngIf="
          validatePasswordForm.get('manualBillNo').errors &&
          validatePasswordForm.get('manualBillNo').errors.errorArray
        "
      >
        <poss-web-error-info-tooltip
          [errorMessage]="
            validatePasswordForm.get('manualBillNo').errors.errorArray
          "
        ></poss-web-error-info-tooltip>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="col-lg-3 col-4">
      <mat-label>{{ 'pw.manualCashMemo.billDateLabel' | translate }}</mat-label>
      <input
        matInput
        class="pw-single-bordered-input"
        [matDatepicker]="datePicker"
        [max]="currentDate"
        (click)="datePicker.open()"
        readonly
        required
        formControlName="manualBillDate"
      />
      <mat-datepicker-toggle matSuffix [for]="datePicker">
        <mat-icon matDatepickerToggleIcon>
          <span class="pw-i-12 pw-calender-icon-12"></span>
        </mat-icon>
      </mat-datepicker-toggle>
      <mat-datepicker #datePicker></mat-datepicker>
      <mat-error
        *ngIf="
          validatePasswordForm.get('manualBillDate').errors &&
          validatePasswordForm.get('manualBillDate').errors.errorArray
        "
      >
        <poss-web-error-info-tooltip
          [errorMessage]="
            validatePasswordForm.get('manualBillDate').errors.errorArray
          "
        ></poss-web-error-info-tooltip>
      </mat-error>
    </mat-form-field>
  </div>

  <div class="row pw-detail-card__item">
    <div class="col-lg-3 col-4 pw-detail-card__border-right">
      <mat-form-field class="pw-detail-card__item">
        <input
          matInput
          type="text"
          placeholder="{{
            'pw.manualCashMemo.manualBillValueLabel' | translate
          }} ({{ currencyCode | currencySymbol }})"
          class="pw-single-bordered-input"
          formControlName="manualBillValue"
          [allowDecimal]="false"
          possWebAmountInput
        />
        <mat-error
          *ngIf="
            validatePasswordForm.get('manualBillValue').errors &&
            validatePasswordForm.get('manualBillValue').errors.errorArray
          "
        >
          <poss-web-error-info-tooltip
            [errorMessage]="
              validatePasswordForm.get('manualBillValue').errors.errorArray
            "
          ></poss-web-error-info-tooltip>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="pw-detail-card__item">
        <input
          matInput
          type="text"
          placeholder="{{ 'pw.manualCashMemo.approvedByLabel' | translate }}"
          class="pw-single-bordered-input"
          formControlName="approvedBy"
          required
        />
        <mat-error
          *ngIf="
            validatePasswordForm.get('approvedBy').errors &&
            validatePasswordForm.get('approvedBy').errors.errorArray
          "
        >
          <poss-web-error-info-tooltip
            [errorMessage]="
              validatePasswordForm.get('approvedBy').errors.errorArray
            "
          ></poss-web-error-info-tooltip>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="pw-detail-card__item">
        <input
          matInput
          placeholder="{{ 'pw.manualCashMemo.passwordLabel' | translate }}"
          class="pw-single-bordered-input"
          formControlName="password"
          required
          [type]="show ? 'text' : 'password'"
        />
        <mat-error
          *ngIf="
            validatePasswordForm.get('password').errors &&
            validatePasswordForm.get('password').errors.errorArray
          "
        >
          <poss-web-error-info-tooltip
            [errorMessage]="
              validatePasswordForm.get('password').errors.errorArray
            "
          ></poss-web-error-info-tooltip>
        </mat-error>
      </mat-form-field>
      <mat-checkbox class="pw-form-card__item pt-3" (change)="showPassword()">
        {{ 'pw.manualCashMemo.showPasswordLabel' | translate }}</mat-checkbox
      >
      <mat-form-field class="pw-detail-card__item">
        <input
          matInput
          type="text"
          placeholder="{{
            'pw.manualCashMemo.manualBillReasonLabel' | translate
          }}"
          class="pw-single-bordered-input"
          formControlName="remarks"
          required
          name="remarkField"
          possWebMaxLengthValidator
        />
        <mat-error
          *ngIf="
            validatePasswordForm.get('remarks').errors &&
            validatePasswordForm.get('remarks').errors.errorArray
          "
        >
          <poss-web-error-info-tooltip
            [errorMessage]="
              validatePasswordForm.get('remarks').errors.errorArray
            "
          ></poss-web-error-info-tooltip>
        </mat-error>
      </mat-form-field>
    </div>
    <div class="col-lg-6 col-8">
      <div class="row pw-detail-card__item">
        <mat-form-field class="col-6">
          <input
            matInput
            placeholder="{{
              'pw.manualCashMemo.goldWeightLabel' | translate
            }} ({{ weightCodes }})"
            class="pw-single-bordered-input"
            formControlName="goldWeight"
            possWebWeightInput
          />
          <mat-error
            *ngIf="
              validatePasswordForm.get('goldWeight').errors &&
              validatePasswordForm.get('goldWeight').errors.errorArray
            "
          >
            <poss-web-error-info-tooltip
              [errorMessage]="
                validatePasswordForm.get('goldWeight').errors.errorArray
              "
            ></poss-web-error-info-tooltip>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="col-6">
          <input
            matInput
            placeholder="{{ 'pw.manualCashMemo.goldRateLabel' | translate }} ({{
              currencyCode | currencySymbol
            }}/{{ weightCode }})"
            class="pw-single-bordered-input"
            formControlName="goldRate"
            possWebAmountInput
          />
          <mat-error
            *ngIf="
              validatePasswordForm.get('goldRate').errors &&
              validatePasswordForm.get('goldRate').errors.errorArray
            "
          >
            <poss-web-error-info-tooltip
              [errorMessage]="
                validatePasswordForm.get('goldRate').errors.errorArray
              "
            ></poss-web-error-info-tooltip>
          </mat-error>
        </mat-form-field>
      </div>

      <div class="row pw-detail-card__item">
        <mat-form-field class="col-6">
          <input
            matInput
            placeholder="{{
              'pw.manualCashMemo.platinumWeightLabel' | translate
            }} ({{ weightCodes }})"
            class="pw-single-bordered-input"
            formControlName="platinumWeight"
            possWebWeightInput
          />
          <mat-error
            *ngIf="
              validatePasswordForm.get('platinumWeight').errors &&
              validatePasswordForm.get('platinumWeight').errors.errorArray
            "
          >
            <poss-web-error-info-tooltip
              [errorMessage]="
                validatePasswordForm.get('platinumWeight').errors.errorArray
              "
            ></poss-web-error-info-tooltip>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="col-6">
          <input
            matInput
            placeholder="{{
              'pw.manualCashMemo.platinumRateLabel' | translate
            }} ({{ currencyCode | currencySymbol }}/{{ weightCode }})"
            class="pw-single-bordered-input"
            formControlName="platinumRate"
            possWebAmountInput
          />
          <mat-error
            *ngIf="
              validatePasswordForm.get('platinumRate').errors &&
              validatePasswordForm.get('platinumRate').errors.errorArray
            "
          >
            <poss-web-error-info-tooltip
              [errorMessage]="
                validatePasswordForm.get('platinumRate').errors.errorArray
              "
            ></poss-web-error-info-tooltip>
          </mat-error>
        </mat-form-field>
      </div>

      <div class="row pw-detail-card__item">
        <mat-form-field class="col-6">
          <input
            matInput
            placeholder="{{
              'pw.manualCashMemo.silverWeightLabel' | translate
            }} ({{ weightCodes }})"
            class="pw-single-bordered-input"
            formControlName="silverWeight"
            possWebWeightInput
          />
          <mat-error
            *ngIf="
              validatePasswordForm.get('silverWeight').errors &&
              validatePasswordForm.get('silverWeight').errors.errorArray
            "
          >
            <poss-web-error-info-tooltip
              [errorMessage]="
                validatePasswordForm.get('silverWeight').errors.errorArray
              "
            ></poss-web-error-info-tooltip>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="col-6">
          <input
            matInput
            placeholder="{{
              'pw.manualCashMemo.silverRateLabel' | translate
            }} ({{ currencyCode | currencySymbol }}/{{ weightCode }})"
            class="pw-single-bordered-input"
            formControlName="silverRate"
            possWebAmountInput
          />
          <mat-error
            *ngIf="
              validatePasswordForm.get('silverRate').errors &&
              validatePasswordForm.get('silverRate').errors.errorArray
            "
          >
            <poss-web-error-info-tooltip
              [errorMessage]="
                validatePasswordForm.get('silverRate').errors.errorArray
              "
            ></poss-web-error-info-tooltip>
          </mat-error>
        </mat-form-field>
      </div>

      <div class="row pw-detail-card__item">
        <mat-checkbox class="col-12" formControlName="isBimetal">
          {{ 'pw.passwordConfig.isBimetalLabel' | translate }}
        </mat-checkbox>
      </div>
    </div>
  </div>

  <div class="pw-detail-card__secondary-section pw-text-right row">
    <div class="col-auto ml-auto">
      <button
        mat-button
        class="pw-btn pw-primary-btn"
        type="button"
        (click)="reset(validatePasswordFormDirective)"
      >
        {{ 'pw.manualCashMemo.resetButtonText' | translate }}
      </button>
    </div>
    <div class="col-auto">
      <!-- <ng-container *possWebPermission="loadPermission(permit)"> -->
      <button mat-button class="pw-btn pw-accent-btn" type="submit">
        {{ 'pw.manualCashMemo.validateButtonText' | translate }}
      </button>
      <!-- </ng-container> -->
    </div>
  </div>
</form>
