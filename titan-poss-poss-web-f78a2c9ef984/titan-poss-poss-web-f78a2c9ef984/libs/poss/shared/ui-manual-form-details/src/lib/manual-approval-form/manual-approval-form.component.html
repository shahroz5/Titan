<form
  [formGroup]="requestApprovalForm"
  (ngSubmit)="onSubmit()"
  novalidate
  #requestApprovalFormDirective="ngForm"
  autocomplete="off"
>
  <div class="row pw-detail-card__item" *ngIf="txnType === TxnTypesEnumRef.CM">
    <mat-checkbox
      (change)="selectCheckBox($event.checked)"
      class="col-lg-3 col-4 mt-3"
    >
      {{ 'pw.manualCashMemo.abcoFrozenLabel' | translate }}</mat-checkbox
    >
    <mat-form-field *ngIf="enableABCODatePicker" class="col-lg-3 col-4">
      <mat-label>{{ 'pw.manualCashMemo.abcoDateLabel' | translate }}</mat-label>
      <input
        matInput
        class="pw-single-bordered-input"
        [matDatepicker]="abcoDatePicker"
        [max]="requestApprovalForm.get('manualBillDate').value"
        (click)="abcoDatePicker.open()"
        readonly
        formControlName="ABCODate"
      />
      <mat-datepicker-toggle matSuffix [for]="abcoDatePicker">
        <mat-icon matDatepickerToggleIcon>
          <span class="pw-i-12 pw-calender-icon-12"></span>
        </mat-icon>
      </mat-datepicker-toggle>
      <mat-datepicker #abcoDatePicker></mat-datepicker>
      <mat-error
        *ngIf="
          requestApprovalForm.get('ABCODate').errors &&
          requestApprovalForm.get('ABCODate').errors.errorArray
        "
      >
        <poss-web-error-info-tooltip
          [errorMessage]="requestApprovalForm.get('ABCODate').errors.errorArray"
        ></poss-web-error-info-tooltip>
      </mat-error>
    </mat-form-field>
  </div>
  <div class="row pw-detail-card__item">
    <mat-form-field class="col-lg-3 col-4">
      <input
        matInput
        type="text"
        placeholder="{{
          'pw.manualCashMemo.billNumberPlaceHolder' | translate
        }}"
        class="pw-single-bordered-input"
        formControlName="manualBillNo"
        required
      />
      <mat-error
        *ngIf="
          requestApprovalForm.get('manualBillNo').errors &&
          requestApprovalForm.get('manualBillNo').errors.errorArray
        "
      >
        <poss-web-error-info-tooltip
          [errorMessage]="
            requestApprovalForm.get('manualBillNo').errors.errorArray
          "
        ></poss-web-error-info-tooltip>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="col-lg-3 col-4">
      <mat-label>{{ 'pw.manualCashMemo.billDateLabel' | translate }}</mat-label>
      <input
        matInput
        class="pw-single-bordered-input"
        [matDatepicker]="manualBillDatePicker"
        [max]="currentDate"
        (click)="manualBillDatePicker.open()"
        readonly
        required
        formControlName="manualBillDate"
      />
      <mat-datepicker-toggle matSuffix [for]="manualBillDatePicker">
        <mat-icon matDatepickerToggleIcon>
          <span class="pw-i-12 pw-calender-icon-12"></span>
        </mat-icon>
      </mat-datepicker-toggle>
      <mat-datepicker #manualBillDatePicker></mat-datepicker>
      <mat-error
        *ngIf="
          requestApprovalForm.get('manualBillDate').errors &&
          requestApprovalForm.get('manualBillDate').errors.errorArray
        "
      >
        <poss-web-error-info-tooltip
          [errorMessage]="
            requestApprovalForm.get('manualBillDate').errors.errorArray
          "
        ></poss-web-error-info-tooltip>
      </mat-error>
    </mat-form-field>
  </div>

  <div class="row pw-detail-card__item">
    <div class="col-lg-3 col-4 pw-detail-card__border-right">
      <mat-form-field class="pw-detail-card__item">
        <input
          matInput
          type="text"
          placeholder="{{
            'pw.manualCashMemo.manualBillValueLabel' | translate
          }} ({{ currencyCode | currencySymbol }})"
          class="pw-single-bordered-input"
          formControlName="manualBillValue"
          [allowDecimal]="false"
          possWebAmountInput
        />
        <mat-error
          *ngIf="
            requestApprovalForm.get('manualBillValue').errors &&
            requestApprovalForm.get('manualBillValue').errors.errorArray
          "
        >
          <poss-web-error-info-tooltip
            [errorMessage]="
              requestApprovalForm.get('manualBillValue').errors.errorArray
            "
          ></poss-web-error-info-tooltip>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="pw-detail-card__item">
        <input
          matInput
          type="text"
          placeholder="{{ 'pw.manualCashMemo.approvedByLabel' | translate }}"
          class="pw-single-bordered-input"
          formControlName="approvedBy"
          required
        />
        <mat-error
          *ngIf="
            requestApprovalForm.get('approvedBy').errors &&
            requestApprovalForm.get('approvedBy').errors.errorArray
          "
        >
          <poss-web-error-info-tooltip
            [errorMessage]="
              requestApprovalForm.get('approvedBy').errors.errorArray
            "
          ></poss-web-error-info-tooltip>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="pw-detail-card__item">
        <input
          matInput
          type="text"
          placeholder="{{
            'pw.manualCashMemo.manualBillReasonLabel' | translate
          }}"
          class="pw-single-bordered-input"
          formControlName="remarks"
          required
          name="remarkField"
          possWebMaxLengthValidator
        />
        <mat-error
          *ngIf="
            requestApprovalForm.get('remarks').errors &&
            requestApprovalForm.get('remarks').errors.errorArray
          "
        >
          <poss-web-error-info-tooltip
            [errorMessage]="
              requestApprovalForm.get('remarks').errors.errorArray
            "
          ></poss-web-error-info-tooltip>
        </mat-error>
      </mat-form-field>
    </div>
    <div class="col-lg-6 col-8">
      <div class="row pw-detail-card__item">
        <mat-form-field class="col-6">
          <input
            matInput
            placeholder="{{ 'pw.manualCashMemo.goldRateLabel' | translate }} ({{
              currencyCode | currencySymbol
            }}/{{ weightCode }})"
            class="pw-single-bordered-input"
            formControlName="goldRate"
            possWebAmountInput
          />
          <mat-error
            *ngIf="
              requestApprovalForm.get('goldRate').errors &&
              requestApprovalForm.get('goldRate').errors.errorArray
            "
          >
            <poss-web-error-info-tooltip
              [errorMessage]="
                requestApprovalForm.get('goldRate').errors.errorArray
              "
            ></poss-web-error-info-tooltip>
          </mat-error>
        </mat-form-field>
      </div>

      <div class="row pw-detail-card__item">
        <mat-form-field class="col-6">
          <input
            matInput
            placeholder="{{
              'pw.manualCashMemo.platinumRateLabel' | translate
            }} ({{ currencyCode | currencySymbol }}/{{ weightCode }})"
            class="pw-single-bordered-input"
            formControlName="platinumRate"
            possWebAmountInput
          />
          <mat-error
            *ngIf="
              requestApprovalForm.get('platinumRate').errors &&
              requestApprovalForm.get('platinumRate').errors.errorArray
            "
          >
            <poss-web-error-info-tooltip
              [errorMessage]="
                requestApprovalForm.get('platinumRate').errors.errorArray
              "
            ></poss-web-error-info-tooltip>
          </mat-error>
        </mat-form-field>
      </div>

      <div class="row pw-detail-card__item">
        <mat-form-field class="col-6">
          <input
            matInput
            placeholder="{{
              'pw.manualCashMemo.silverRateLabel' | translate
            }} ({{ currencyCode | currencySymbol }}/{{ weightCode }})"
            class="pw-single-bordered-input"
            formControlName="silverRate"
            possWebAmountInput
          />
          <mat-error
            *ngIf="
              requestApprovalForm.get('silverRate').errors &&
              requestApprovalForm.get('silverRate').errors.errorArray
            "
          >
            <poss-web-error-info-tooltip
              [errorMessage]="
                requestApprovalForm.get('silverRate').errors.errorArray
              "
            ></poss-web-error-info-tooltip>
          </mat-error>
        </mat-form-field>
      </div>
    </div>
  </div>

  <div class="pw-detail-card__secondary-section pw-text-right row">
    <div class="col-auto ml-auto">
      <button
        mat-button
        class="pw-btn pw-primary-btn"
        type="button"
        (click)="reset(requestApprovalFormDirective)"
      >
        {{ 'pw.manualCashMemo.resetButtonText' | translate }}
      </button>
    </div>
    <div class="col-auto">
      <button mat-button class="pw-btn pw-accent-btn" type="submit">
        {{ 'pw.manualCashMemo.validateButtonText' | translate }}
      </button>
    </div>
  </div>
</form>
