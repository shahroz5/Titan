<mat-expansion-panel
  *ngIf="!viewMode || (viewMode && otherChargesList)"
  [expanded]="viewMode ? false : true"
  class="pw-expansion-panel mt-2"
>
  <mat-expansion-panel-header
    class="pw-expansion-panel__header"
    [collapsedHeight]="'40px'"
    [expandedHeight]="'40px'"
  >
    <mat-panel-title class="pw-expansion-panel__heading">
      <span
        [matBadgeHidden]="
          !(transactionType === transactionTypeEnumRef.CM) && !showPanelNumber
        "
        [ngClass]="
          transactionType === transactionTypeEnumRef.CM && showPanelNumber
            ? 'pw-gold-info-icon'
            : ''
        "
        [matBadge]="badgeNumber"
        matBadgeOverlap="false"
        [matBadgeColor]="'primary'"
        matBadgePosition="before"
      >
        {{ 'pw.otherCharges.otherCharges' | translate }}
      </span>
    </mat-panel-title>
  </mat-expansion-panel-header>
  <div class="height">
    <div class="pw-card pw-panel">
      <poss-web-other-charge
        *ngIf="!viewMode"
        [reasons]="reasons$ | async"
        [taxDetails]="taxDetails$ | async"
        [otherCharges]="otherChargesList"
        (apply)="applyOtherCharges($event)"
        [enableForm]="enableForm"
        [setFocus]="setOtherChargesFocus"
      ></poss-web-other-charge>
      <poss-web-other-charges-view
        *ngIf="viewMode && otherChargesList"
        [otherCharges]="otherChargesList"
      >
      </poss-web-other-charges-view>
    </div>
  </div>
</mat-expansion-panel>
<poss-web-loader *ngIf="isLoading$ | async"></poss-web-loader>
