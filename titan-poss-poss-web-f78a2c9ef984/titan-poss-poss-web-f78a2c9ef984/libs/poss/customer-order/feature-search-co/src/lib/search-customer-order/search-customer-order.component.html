<div class="pw-detail-card">
  <div class="row pw-detail-card__flex-end">
    <ng-container [formGroup]="searchCOForm">
      <poss-web-select-dropdown
        placeholder=" {{
          'pw.searchCustomerOrder.selectCOFunctionLabel' | translate
        }}"
        [control]="searchCOForm.get('coFunction')"
        [options]="coFunctions"
        [required]="true"
        (selectionChange)="valueChanged($event)"
        class="col-lg-2 col-4"
      >
      </poss-web-select-dropdown>

      <mat-form-field class="col-lg-2 col-4">
        <mat-label>{{
          'pw.searchCustomerOrder.CODocNumberLabel' | translate
        }}</mat-label>
        <input
          matInput
          class="pw-single-bordered-input col-auto"
          name="numbersField"
          formControlName="docNumber"
          possWebMaxLengthValidator
        />
        <mat-error
          *ngIf="
            searchCOForm.get('docNumber').errors &&
            searchCOForm.get('docNumber').errors.errorArray
          "
        >
          <poss-web-error-info-tooltip
            [errorMessage]="searchCOForm.get('docNumber').errors.errorArray"
          ></poss-web-error-info-tooltip>
        </mat-error>
      </mat-form-field>
      <poss-web-fiscal-year
        class="col-lg-2 col-4"
        [control]="searchCOForm.get('fiscalYear')"
        [required]="false"
        [currentFiscalYear]="currentFiscalYear"
        [data]="data?.fiscalYear"
        [disabled]="false"
      ></poss-web-fiscal-year>

      <mat-form-field class="col-lg-2 col-4">
        <mat-label>{{
          'pw.searchCustomerOrder.mobileNumberLabel' | translate
        }}</mat-label>
        <input
          matInput
          class="pw-single-bordered-input col-auto"
          name="mobileField"
          formControlName="mobileNumber"
          possWebMaxLengthValidator
        />
        <mat-error
          *ngIf="
            searchCOForm.get('mobileNumber').errors &&
            searchCOForm.get('mobileNumber').errors.errorArray
          "
        >
          <poss-web-error-info-tooltip
            [errorMessage]="searchCOForm.get('mobileNumber').errors.errorArray"
          ></poss-web-error-info-tooltip>
        </mat-error>
      </mat-form-field>

      <div class="col-auto ml-auto align-self-baseline">
        <button
          class="pw-btn pw-accent-btn"
          [disabled]="searchCOForm.invalid"
          (click)="searchCO(true)"
        >
          {{ 'pw.searchCustomerOrder.searchButtonLabel' | translate }}
        </button>
      </div>
    </ng-container>
  </div>
</div>

<poss-web-search-co-items></poss-web-search-co-items>
