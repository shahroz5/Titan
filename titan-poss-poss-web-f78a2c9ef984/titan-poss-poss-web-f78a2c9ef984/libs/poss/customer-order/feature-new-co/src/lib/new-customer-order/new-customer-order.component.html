<mat-accordion multi>
  <mat-expansion-panel expanded class="pw-expansion-panel">
    <mat-expansion-panel-header
      class="pw-expansion-panel__header"
      [collapsedHeight]="'40px'"
      [expandedHeight]="'40px'"
    >
      <mat-panel-title class="pw-expansion-panel__heading">
        {{ 'pw.newCustomerOrder.freezeRateLabel' | translate }}
      </mat-panel-title>
    </mat-expansion-panel-header>
    <div class="pw-card pw-panel">
      <poss-web-co-details
        [customerOrderId]="customerOrderId"
        [coDetailsResponse]="CODetailsRes"
        [bgrAllowed]="bgrAllowed"
        [relationshipTypes]="relationshipTypes"
        [totalGrossWeight]="totalGrossWeight"
        [totalOrderValue]="totalOrderValue"
        (addNomineeDetails)="addNomineeDetails($event)"
        (bestRate)="bestRate($event)"
        (freeze)="freeze($event)"
        (prodToBeCollectedBy)="prodToBeCollectedBy($event)"
      ></poss-web-co-details>
    </div>
  </mat-expansion-panel>
</mat-accordion>

<ng-template #confirmSuccessNotificationTemplate>
  <div class="pw-black-popup-box px-3">
    <div class="pw-text-center">
      <h3 class="pw-success-color">
        {{ 'pw.newCustomerOrder.coConfirmMsg' | translate }}
      </h3>
      <div class="pw-black-popup-box__margin-top-10">
        {{ 'pw.newCustomerOrder.coDocNo' | translate }} :
        {{ confirmedCashmemoDoc }}
      </div>
      <h4 *ngIf="newlyGeneratedCn.length > 0">
        Generated Partial CN Amount of :
        {{ newlyGeneratedCn[0].otherDetails.data.remainingAmount }} ,&nbsp;
        {{ 'pw.regularCashMemo.newCnLabel' | translate }}:
        {{ newlyGeneratedCn[0].otherDetails.data.newCNNumber }}
      </h4>
      <div
        *ngIf="creditnote && creditnote.length > 0"
        class="pw-black-popup-box__margin-top-10"
      >
        {{ 'pw.newCustomerOrder.CNNO' | translate }} : {{ creditnote }}
      </div>
      <h4 *ngIf="refundAmountAsCash !== 0">
        {{ 'pw.newCustomerOrder.refundAmountMsg' | translate }} :
        {{ refundAmountAsCash | currencyFormatter: currencyCode }}
      </h4>
      <!-- <div class="pw-black-popup-box__margin-top-10">
        <h4 class="pw-success-color pw-pointer" (click)="print()">
          <span class="pw-i-16 pw-download-icon-16 pw-print"></span>
          {{ 'pw.advanceBooking.print' | translate }}
        </h4>
      </div> -->
    </div>
  </div>
</ng-template>

<poss-web-loader *ngIf="(isLoading$ | async) || (isLoadingOrder$ | async)">
</poss-web-loader>
