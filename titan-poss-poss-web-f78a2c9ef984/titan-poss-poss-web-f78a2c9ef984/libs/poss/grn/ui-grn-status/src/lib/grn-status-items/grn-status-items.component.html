<div class="row align-items-center pw-position-top">
  <mat-form-field
    [formGroup]="searchForm"
    class="col-auto ml-auto pw-form-field-padding-bottom-0 pw-search-bar pw-form-field-border-top-0"
  >
    <input
      #searchBox
      matInput
      placeholder=" {{ 'pw.grn.searchByCmNumberLabel' | translate }}"
      class="single-bordered-input"
      formControlName="searchValue"
      (keypress)="numberCheck($event)"
    />
    <mat-icon matSuffix>
      <span
        class="pw-i-16 pw-search-icon-16"
        *ngIf="!searchForm.value.searchValue"
      ></span>
    </mat-icon>
    <mat-icon matSuffix (click)="clearSearch()">
      <span
        *ngIf="searchForm.value.searchValue"
        class="pw-i-10 pw-close-icon-16"
      ></span
    ></mat-icon>
  </mat-form-field>

  <poss-web-select-dropdown
    class="col-3 px-2"
    [placeholder]="'pw.grn.requestTypeLabel' | translate"
    [options]="grnStausArray"
    [control]="requestTypeControl"
    [required]="true"
    (selectionChange)="onRequestTypeDropDownChange($event)"
  >
  </poss-web-select-dropdown>
</div>

<poss-web-card-list
  [count]="count"
  [dataList]="grnReqStatus"
  [pageSize]="pageSize"
  (loadMore)="loadList($event)"
  (selected)="onSelected($event)"
>
  <ng-template let-item="data">
    <poss-web-card-title>
      <div class="row">
        <h4 class="col-auto">
          {{ item.cmNumber }} | {{ item.srcBoutiqueCode }}
        </h4>
      </div>
    </poss-web-card-title>

    <poss-web-card-content>
      <div class="row pw-grid-card__content">
        <p class="col-6 pw-grid-card__label">
          {{ 'pw.grn.requestNoLabel' | translate }}
        </p>
        <p class="col-auto pw-grid-card__label pw-grid-card__padding-5">:</p>
        <p class="col">{{ item.reqNumber }}</p>
      </div>

      <div class="row pw-grid-card__content">
        <p class="col-6 pw-grid-card__label">
          {{ 'pw.grn.productsLabel' | translate }}
        </p>
        <p class="col-auto pw-grid-card__label pw-grid-card__padding-5">:</p>
        <p class="col">{{ item.products }}({{ item.productValue }})</p>
      </div>

      <div class="row pw-grid-card__content">
        <p class="col-6 pw-grid-card__label">
          {{ 'pw.grn.defectTypeLabel' | translate }}
        </p>
        <p class="col-auto pw-grid-card__label pw-grid-card__padding-5">:</p>
        <p class="col">{{ item.defectType }}</p>
      </div>

      <div class="row pw-grid-card__content">
        <p class="col-6 pw-grid-card__label">
          {{ 'pw.grn.customerNameLabel' | translate }}
        </p>
        <p class="col-auto pw-grid-card__label pw-grid-card__padding-5">:</p>
        <p class="col">{{ item.customerName }}</p>
      </div>

      <div class="row pw-grid-card__content">
        <p class="col-6">
          {{ 'pw.grn.status' | translate }}
        </p>
        <p class="col-auto pw-grid-card__padding-5">:</p>
        <p
          class="col"
          [ngClass]="
            item.status === grnEnums.APPROVED
              ? 'pw-success-color'
              : '' || item.status === grnEnums.PENDING
              ? 'pw-warning-color'
              : '' || item.status === grnEnums.REJECTED
              ? 'pw-error-color'
              : ''
          "
        >
          {{ item.status
          }}<span class="pw-tertiary-color">
            ({{ item.destBoutiqueCode }})</span
          >
        </p>
      </div>
      <!-- <div class="row pw-grid-card__content">
        <p class="col-6">
          {{ 'pw.grn.remarks' | translate }}
        </p>
        <p class="col-auto pw-grid-card__padding-5">:</p>
        <p class="col">{{ item.approverRemarks }}</p>
      </div> -->

      <div class="row pw-grid-card__content">
        <p class="col-6">
          {{ 'pw.grn.requestedDate' | translate }}
        </p>
        <p class="col-auto pw-grid-card__padding-5">:</p>
        <p class="col-auto">{{ item.reqDate | dateFormatter }}</p>
        <!-- <p class="col-auto">{{ item.time }}</p> -->
      </div>
    </poss-web-card-content>
  </ng-template>
</poss-web-card-list>


