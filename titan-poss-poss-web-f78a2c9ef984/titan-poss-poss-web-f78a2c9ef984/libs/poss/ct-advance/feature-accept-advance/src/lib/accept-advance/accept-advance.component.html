<form
  class="pw-detail-card"
  [formGroup]="ctAcceptAdvanceFormGroup"
>
  <div class="row pw-detail-card__flex-end">
    <div class="col-auto">
      <poss-web-rso-names-list
        [rsoNamesList]="rsoNamesList"
        [selectedRso]="selectedRso"
        (selectedRSOName)="setSelectedRSOName($event)"
        [clearSelectedRsoName]="clearSelectedRsoName"
      >
      </poss-web-rso-names-list>
    </div>
    <div class="col-auto">
      <mat-form-field  class ="pw-form-field-position" [floatLabel]="'auto'">
        <mat-label
          >{{ 'pw.acceptAdvance.enterAmount' | translate }}({{
            currencySymbolService.get(baseCurrencyCode)
          }})
        </mat-label>
        <input
          type="text"
          (focusout)="onFocusOut()"
          matInput
          autoComplete="off"
          formControlName="amount"
          required
          possWebAmountInput
        />
        <mat-error
          *ngIf="
            ctAcceptAdvanceFormGroup.get('amount').errors &&
            ctAcceptAdvanceFormGroup.get('amount').errors.errorArray
          "
        >
          <poss-web-error-info-tooltip
            [errorMessage]="
              ctAcceptAdvanceFormGroup.get('amount').errors.errorArray
            "
          >
          </poss-web-error-info-tooltip>
        </mat-error>
      </mat-form-field>
    </div>
    <div class="col-auto">
    <mat-checkbox
      class="pw-list-card__checkbox"
      formControlName="paymentMadeForEGHS"
    >
      {{ 'pw.acceptAdvance.paymentMadeForEGHS' | translate }}
    </mat-checkbox>
    </div>
  </div>
</form>

<ng-template #acceptAdvanceSuccessNotificationTemplate>
  <div class="pw-text-center">
    <h3 class="pw-success-color">
      {{ 'pw.acceptAdvance.acceptAdvanceGenerationSuccessMsg' | translate }}
    </h3>
    <br />
    <!-- <div class="pw-black-popup-box__margin-top-10" *ngIf="transactionId">
      {{ 'pw.acceptAdvance.creditNoteSuccessMessage' | translate }}
      {{ creditNoteNumber }} {{ 'pw.acceptAdvance.forTheAmount' | translate }}
      {{ currencySymbolService.get(baseCurrencyCode)
      }}{{ ctAcceptAdvanceFormGroup.get('amount').value }}
    </div> -->
    <div class="pw-black-popup-box__margin-top-10" *ngIf="transactionId">
      {{ 'pw.acceptAdvance.advanceDocNo' | translate }}: {{ docNo }}
    </div>
    <br *ngIf="transactionId" />
    <div class="pw-black-popup-box__margin-top-10" *ngIf="transactionId">
      {{ 'pw.acceptAdvance.advanceCnNo' | translate }}: {{ creditNoteNumber }}
    </div>
    <br *ngIf="transactionId" />
    <div class="pw-black-popup-box__margin-top-10">
      <button
        matButton
        class="pw-white-btn"
        (click)="
          printAcceptAdvanceConfirmedTransaction(
            transactionId,
            transactionTypeEnum?.ADV,
            subTransactionTypeEnum?.NON_FROZEN_RATES
          )
        "
      >
        {{ 'pw.acceptAdvance.print' | translate }}
      </button>
    </div>
  </div>
</ng-template>
<poss-web-loader
  *ngIf="
    (isOrderConfirmationLoading$ | async) ||
    (isAcceptAdvanceLoading$ | async) ||
    (printingService.getPrinterIsLoading() | async)
  "
></poss-web-loader>
