<div *ngIf="readOnly === false" class="pw-confirmation-box">
  <div
    class="row pw-cursor-grab pw-confirmation-box__header"
    cdkDragBoundary=".cdk-overlay-container"
    cdkDrag
    cdkDragRootElement=".cdk-overlay-pane"
    cdkDragHandle
  >
    <div class="col-auto">
      {{ 'pw.remarksPopup.remarksPlaceHolder' | translate }}
    </div>
    <div class="col pw-text-right">
      <a class="pw-sub-heading pw-cursor" (click)="closePopup()">
        <span class="pw-i-24 pw-close-no-border-icon-24"></span>
      </a>
    </div>
  </div>
  <div class="pw-confirmation-box__body">
    <div class="pw-confirmation-box__body-item">
      <div class="row no-gutters">
        <mat-form-field floatLabel="never" class="flex-fill">
          <textarea
            #textareaRef
            matInput
            possWebTextarea
            rows="4"
            placeholder="      {{
              'pw.remarksPopup.enterRemarksLabel' | translate
            }}
              "
            [formControl]="remarksControl"
            name="remarkField"
            possWebMaxLengthValidator
          ></textarea>
          <mat-error
            *ngIf="remarksControl.errors && remarksControl.errors.errorArray"
          >
            <poss-web-error-info-tooltip
              [errorMessage]="remarksControl.errors.errorArray"
            ></poss-web-error-info-tooltip>
          </mat-error>
        </mat-form-field>
      </div>
    </div>
  </div>

  <div class="row pw-confirmation-box__footer-without-border">
    <div class="col-auto">
      <button class="pw-btn pw-primary-btn" (click)="clearRemarks()">
        {{ 'pw.remarksPopup.clearButton' | translate }}
      </button>
    </div>
    <div class="col-auto">
      <button class="pw-btn pw-accent-btn" (click)="applyRemarks()">
        {{ 'pw.remarksPopup.okButton' | translate }}
      </button>
    </div>
  </div>
</div>

<div *ngIf="readOnly === true" class="pw-confirmation-box">
  <div
    class="row pw-cursor-grab pw-confirmation-box__header"
    cdkDragBoundary=".cdk-overlay-container"
    cdkDrag
    cdkDragRootElement=".cdk-overlay-pane"
    cdkDragHandle
  >
    <div class="col-auto">
      {{ 'pw.remarksPopup.remarksPlaceHolder' | translate }}
    </div>
    <div class="col pw-text-right pw-cursor">
      <a class="pw-sub-heading" (click)="closeReadOnlyPopup()">
        <span class="pw-i-24 pw-close-no-border-icon-24"></span>
      </a>
    </div>
  </div>
  <div class="pw-confirmation-box__body">
    <div class="pw-confirmation-box__body-item">
      <div class="row no-gutters">
        <mat-form-field floatLabel="never" class="flex-fill">
          <textarea
            readonly
            #textareaRef
            matInput
            possWebTextarea
            rows="4"
            [formControl]="remarksControl"
          ></textarea>
        </mat-form-field>
      </div>
    </div>
  </div>
</div>
