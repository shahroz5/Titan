<div class="pw-detail-card">
  <!-- revenue filter component -->
  <form
    [formGroup]="rangeFormGroup"
    *ngIf="revenueType === revenueTypeEnumRef.REVENUE_DAY_WISE"
  >
    <div class="row pw-detail-card__flex-end">
      <mat-form-field class="col-auto">
        <mat-label> {{ 'pw.revenue.dateRangeLabel' | translate }}</mat-label>
        <mat-date-range-input
          [rangePicker]="picker"
          [max]="bussinessDay"
          required
        >
          <input matStartDate formControlName="fromDate" required />
          <input matEndDate formControlName="toDate" required />
        </mat-date-range-input>
        <mat-datepicker-toggle matSuffix [for]="picker">
          <mat-icon matDatepickerToggleIcon>
            <span class="pw-i-12 pw-calender-icon-12"></span>
          </mat-icon>
        </mat-datepicker-toggle>
        <mat-date-range-picker #picker></mat-date-range-picker>
        <mat-error
          *ngIf="
            rangeFormGroup.get('fromDate').errors &&
            rangeFormGroup.get('fromDate').errors.errorArray
          "
        >
          <poss-web-error-info-tooltip
            [errorMessage]="rangeFormGroup.get('fromDate').errors.errorArray"
          ></poss-web-error-info-tooltip>
        </mat-error>

        <mat-error
          *ngIf="
            rangeFormGroup.get('toDate').errors &&
            rangeFormGroup.get('toDate').errors.errorArray
          "
        >
          <poss-web-error-info-tooltip
            [errorMessage]="rangeFormGroup.get('toDate').errors.errorArray"
          ></poss-web-error-info-tooltip>
        </mat-error>
        <mat-error
          *ngIf="
            rangeFormGroup.get('fromDate').hasError('differenceValid') &&
            rangeFormGroup.get('toDate').invalid
          "
        >
          {{ 'pw.revenue.dateRangeInvalidText' | translate }}
        </mat-error>
      </mat-form-field>

      <div class="col-auto pw-detail-card__right-container">
        <button
          class="pw-btn pw-accent-btn"
          [disabled]="!rangeFormGroup.valid"
          (click)="search()"
        >
          {{ 'pw.revenue.searchLabel' | translate }}
        </button>
      </div>
    </div>
  </form>
  <form
    [formGroup]="locationCodeFormGroup"
    *ngIf="revenueType === revenueTypeEnumRef.REVENUE_TODAY"
  >
    <div class="row pw-detail-card__base-align">
      <mat-form-field class="col-auto">
        <mat-label> {{ 'pw.revenue.locationCodeLabel' | translate }}</mat-label>
        <input matInput formControlName="locationCode" readonly required />
        <mat-error
          *ngIf="
            locationCodeFormGroup.get('locationCode').errors &&
            locationCodeFormGroup.get('locationCode').errors.errorArray
          "
        >
          <poss-web-error-info-tooltip
            [errorMessage]="
              locationCodeFormGroup.get('locationCode').errors.errorArray
            "
          ></poss-web-error-info-tooltip>
        </mat-error>
      </mat-form-field>
      <div class="col-auto">
        <button
          type="button"
          class="pw-btn pw-accent-btn"
          (click)="getLocationCodeFromDialog()"
        >
          Select Location Code
        </button>
      </div>

      <div class="col-auto pw-detail-card__right-container">
        <button
          class="pw-btn pw-accent-btn"
          [disabled]="!locationCodeFormGroup.valid"
          (click)="searchTodaysRevenue()"
        >
          {{ 'pw.revenue.searchLabel' | translate }}
        </button>
      </div>
    </div>
  </form>
</div>
<h4 class="pw-tertiary-color mb-3 mt-2">
  {{ 'pw.revenue.searchResultsLabel' | translate }}
</h4>
