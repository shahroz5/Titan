<poss-web-loader *ngIf="isLoading$ | async"></poss-web-loader>
<div class="container-fluid">
  <div class="row">
    <div class="col-12 col-lg-10 m-auto">
      <div class="pw-top-heading-container mb-3">
        <div class="row pw-top-heading-container__item">
          <div class="col-auto pr-0">
            <a (click)="back()">
              <span class="pw-i-24 pw-back-arrow-icon-24"></span>
            </a>
          </div>
          <div class="col-auto pl-0">
            <div class="pw-top-heading-container__main-head">
              <span class="pw-i-36 pw-product-master-icon-36"></span>
              <div>
                <h2>{{ 'pw.brandMaster.product' | translate }}</h2>
                <h5 class="pw-top-heading-container__sub-heading">
                  {{ 'pw.brandMaster.masters' | translate }}
                  <span class="seventh-color"></span>
                </h5>
              </div>
            </div>
          </div>
        </div>

      <!--   <div class="row pw-sub-header">
          <div class="col-auto">
            <div class="pw-sub-header__heading">
              {{ 'pw.brandMaster.brand' | translate }}
            </div>
          </div>
        </div> -->
      </div>
      <div class="row" *ngIf="!showViewOnly; else viewOnly">
        <div class="col-lg-2 col-3 pw-vertical-tab">
          <ul>
            <li class="mb-4">
              <a
                (click)="updateTab(0)"
                [ngClass]="{ active: tabIndex === 0 }"
                class="pw-vertical-tab__item"
                >{{ 'pw.brandMaster.brandDetails' | translate }}</a
              >
            </li>
            <li class="mb-4">
              <div class="pw-disabled" *ngIf="isNew">
                {{ 'pw.brandMaster.panCardConfiguration' | translate }}
              </div>
              <a
                *ngIf="!isNew"
                (click)="updateTab(1)"
                [ngClass]="{ active: tabIndex === 1 }"
                class="pw-vertical-tab__item"
                >{{ 'pw.brandMaster.panCardConfiguration' | translate }}</a
              >
            </li>
            <li class="mb-4">
              <div class="pw-disabled" *ngIf="isNew">
                {{ 'pw.brandMaster.tcsConfiguration' | translate }}
              </div>
              <a
                *ngIf="!isNew"
                (click)="updateTab(2)"
                [ngClass]="{ active: tabIndex === 2 }"
                class="pw-vertical-tab__item"
                >{{ 'pw.brandMaster.tcsConfiguration' | translate }}</a
              >
            </li>
            <li class="mb-4">
              <div class="pw-disabled" *ngIf="isNew">
                {{ 'pw.brandMaster.CMSMSConfigurationModel' | translate }}
              </div>
              <a
                *ngIf="!isNew"
                (click)="updateTab(3)"
                [ngClass]="{ active: tabIndex === 3 }"
                class="pw-vertical-tab__item"
                >{{ 'pw.brandMaster.CMSMSConfigurationModel' | translate }}</a
              >
            </li>
            <li class="mb-4">
              <div class="pw-disabled" *ngIf="isNew">
                {{ 'pw.brandMaster.customerConfigurations' | translate }}
              </div>
              <a
                *ngIf="!isNew"
                (click)="updateTab(4)"
                [ngClass]="{ active: tabIndex === 4 }"
                class="pw-vertical-tab__item"
                >{{ 'pw.brandMaster.customerConfigurations' | translate }}</a
              >
            </li>
          </ul>
        </div>
        <div class="col-lg-10 col-9">
          <div [ngSwitch]="tabIndex">
            <div *ngSwitchCase="0">
              <poss-web-brand-details-form
                *ngIf="brandDetails$ | async"
                [brandMasterDetails]="brandDetails$ | async"
                [permissions$]="permissions$"
                (formOutput)="formOutput($event)"
              >
              </poss-web-brand-details-form>
            </div>
            <div *ngSwitchCase="1">
              <poss-web-pancard-config-form
                *ngIf="brandDetails$ | async"
                [brandMasterDetails]="brandDetails$ | async"
                (formOutput)="formOutput($event)"
              >
              </poss-web-pancard-config-form>
            </div>
            <div *ngSwitchCase="2">
              <poss-web-tcs-config-form
                *ngIf="brandDetails$ | async"
                [brandMasterDetails]="brandDetails$ | async"
                (formOutput)="formOutput($event)"
              >
              </poss-web-tcs-config-form>
            </div>
            <div *ngSwitchCase="3">
              <poss-web-cm-sms-form
                *ngIf="brandDetails$ | async"
                [brandMasterDetails]="brandDetails$ | async"
                (formOutput)="formOutput($event)"
              >
              </poss-web-cm-sms-form>
            </div>
            <div *ngSwitchCase="4">
              <poss-web-customer-config-form
                *ngIf="brandDetails$ | async"
                [brandMasterDetails]="brandDetails$ | async"
                (formOutput)="formOutput($event)"
              >
              </poss-web-customer-config-form>
            </div>
          </div>
        </div>
      </div>
      <ng-template #viewOnly>
        <div>
          <poss-web-brand-details-view
            *ngIf="brandDetails$ | async"
            [brandMasterDetails]="brandDetails$ | async"
          ></poss-web-brand-details-view>
        </div>
      </ng-template>
    </div>
  </div>
</div>
