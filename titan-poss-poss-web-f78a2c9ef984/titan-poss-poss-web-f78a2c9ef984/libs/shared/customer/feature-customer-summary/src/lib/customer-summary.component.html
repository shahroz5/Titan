<div class="pw-confirmation-box pw-confirmation-box__fixed-width">
  <div
    class="row pw-confirmation-box__header pw-cursor-grab"
    cdkDragBoundary=".cdk-overlay-container"
    cdkDragRootElement=".cdk-overlay-pane"
    cdkDrag
    cdkDragHandle
  >
    <div class="col-auto">
      {{ 'pw.customerSummary.customerDetailLabel' | translate }}
    </div>
    <div class="col pw-text-right">
      <button
        mat-icon-button
        (click)="close()"
        class="pw-confirmation-box__icon-button"
      >
        <mat-icon>
          <span class="pw-i-24 pw-close-no-border-icon-24"></span>
        </mat-icon>
      </button>
    </div>
  </div>
  <div class="pw-confirmation-box__body pw-confirmation-box__padding-bottom-0">
    <div class="pw-confirmation-box__grid mt-0">
      <div
        class="pw-confirmation-box__grid-content pw-confirmation-box__border-right"
      >
        <div class="pw-confirmation-box__sub-heading pt-3">
          {{ 'pw.customerSummary.customerInfoLabel' | translate }}
          {{ customerDetail.customerType }}
        </div>
        <div class="pw-shadow-card">
          <div class="row">
            <div class="col-12 pw-shadow-card__heading">
              <span
                *ngIf="customerMemberType"
                class="pw-shadow-card__badge {{ customerMemebrTypeColor }}"
              >
                {{ customerMemberType }}
              </span>
              <span
                *ngIf="customerDetail.isPulseCustomer"
                class="pw-shadow-card__circle"
              ></span>
              {{ customerDetail.title }}. {{ customerDetail.customerName }}
            </div>
          </div>
          <div class="row pw-shadow-card__item">
            <div class="col-5 pw-shadow-card__label">
              {{ 'pw.customerSummary.customerIdLabel' | translate }}
            </div>
            <div class="col-auto">:</div>
            <div class="col-5">
              {{ customerDetail.customerId }}
            </div>
          </div>
          <div class="row pw-shadow-card__item">
            <div class="col-5 pw-shadow-card__label">
              {{ 'pw.customerSummary.loyaltyIdLabel' | translate }}
            </div>
            <div class="col-auto">:</div>
            <div class="col-5">
              {{ customerDetail.ulpId }}
            </div>
          </div>
          <div class="row pw-shadow-card__item">
            <div class="col-5 pw-shadow-card__label">
              {{ 'pw.customerSummary.encirclePointsLabel' | translate }}
            </div>
            <div class="col-auto">:</div>
            <div class="col-5">
              {{ customerDetail.pointBalance }}
            </div>
          </div>
        </div>
      </div>
      <div
        class="pw-confirmation-box__grid-content pw-confirmation-box__second-data"
      >
        <div class="pw-confirmation-box__item">
          <p class="pw-confirmation-box__label">
            {{ 'pw.customerSummary.enrollmentDateLabel' | translate }}
          </p>
          <div>
            {{ customerDetail.enrollmentDate | dateFormatter }}
          </div>
        </div>

        <div class="pw-confirmation-box__item">
          <p class="pw-confirmation-box__label">
            {{ 'pw.customerSummary.mobileNumberLabel' | translate }}
          </p>
          <div>
            <span *ngIf="selectedCountry && customerDetail.mobileNumber">
              {{ selectedCountry.isdCode }}
            </span>
            {{ customerDetail.mobileNumber }}
          </div>
        </div>
        <div
          class="pw-confirmation-box__item"
          *ngIf="customerDetail.customerDetails.data.altContactNo"
        >
          <p class="pw-confirmation-box__label">
            {{ 'pw.customerSummary.altContactNoLabel' | translate }}
          </p>
          <div>
            <span
              *ngIf="
                selectedCountry &&
                customerDetail.customerDetails.data.altContactNo
              "
            >
              {{ selectedCountry.isdCode }}
            </span>
            {{ customerDetail.customerDetails.data.altContactNo }}
          </div>
        </div>

        <div class="pw-confirmation-box__item">
          <p class="pw-confirmation-box__label">
            {{ 'pw.customerSummary.emailIdLabel' | translate }}
          </p>
          <div>
            {{ customerDetail.emailId }}
          </div>
        </div>
        <div class="pw-confirmation-box__item">
          <p class="pw-confirmation-box__label">
            {{ 'pw.customerSummary.addressLabel' | translate }}
          </p>
          <div class="pw-confirmation-box__address">
            <span
              *ngIf="
                customerDetail.customerDetails.data.addressLines &&
                customerDetail.customerDetails.data.addressLines[0]
              "
            >
              {{ customerDetail.customerDetails.data.addressLines[0] }},
            </span>
            <span
              *ngIf="
                customerDetail.customerDetails.data.addressLines &&
                customerDetail.customerDetails.data.addressLines[1]
              "
            >
              {{ customerDetail.customerDetails.data.addressLines[1] }},
            </span>
            <span
              *ngIf="
                customerDetail.customerDetails.data.addressLines &&
                customerDetail.customerDetails.data.addressLines[2]
              "
            >
              {{ customerDetail.customerDetails.data.addressLines[2] }},
            </span>
            <span
              *ngIf="
                customerDetail.customerDetails.data.addressLines &&
                customerDetail.customerDetails.data.addressLines[3]
              "
            >
              {{ customerDetail.customerDetails.data.addressLines[3] }},
            </span>
            {{ customerDetail.customerDetails.data.city }},
            {{ customerDetail.customerDetails.data.state }}
            {{ customerDetail.customerDetails.data.country }}
            <span *ngIf="customerDetail.customerDetails.data.pinCode"> - </span>
            {{ customerDetail.customerDetails.data.pinCode }}
          </div>
        </div>
      </div>
      <div class="pw-confirmation-box__grid-content">
        <div class="pw-confirmation-box__sub-heading pt-3">
          {{ 'pw.customerSummary.loyaltyInfoHeader' | translate }}
        </div>
        <div class="pw-confirmation-box__detail">
          <div class="pw-confirmation-box__item">
            <p class="pw-confirmation-box__label">
              {{ 'pw.customerSummary.birthDayLabel' | translate }}
            </p>
            <div>
              {{ dateofBirth ? (dateofBirth | dateFormatter) : null }}
            </div>
          </div>
          <div class="pw-confirmation-box__item">
            <p class="pw-confirmation-box__label">
              {{ 'pw.customerSummary.anniversaryLabel' | translate }}
            </p>
            <div>
              {{ annivesary ? (annivesary | dateFormatter) : null }}
            </div>
          </div>
          <div class="pw-confirmation-box__item">
            <p class="pw-confirmation-box__label">
              {{ 'pw.customerSummary.spouseBirthdayLabel' | translate }}
            </p>
            <div>
              {{ spouseBirthday ? (spouseBirthday | dateFormatter) : null }}
            </div>
          </div>
        </div>
      </div>
      <div class="pw-confirmation-box__grid-content">
        <div class="pw-confirmation-box__sub-heading">
          {{ 'pw.customerSummary.commercialInfoHeader' | translate }}
        </div>
        <div class="pw-confirmation-box__detail">
          <div
            class="pw-confirmation-box__item"
            *ngIf="customerDetail.instiTaxNo"
          >
            <p class="pw-confirmation-box__label">
              {{ 'pw.customerCreation.gstNoLabel' | translate }}
            </p>
            <div>
              {{ customerDetail.instiTaxNo }}
            </div>
          </div>
          <div class="pw-confirmation-box__item">
            <p class="pw-confirmation-box__label">
              {{ 'pw.customerSummary.pancardLabel' | translate }}
            </p>
            <div>
              {{ customerDetail.custTaxNo }}
              <span
                *ngIf="customerDetail.custTaxNo"
                class="pw-i-24 pw-pan-icon-24"
              ></span>
            </div>
          </div>
          <div
            class="pw-confirmation-box__item"
            *ngIf="customerDetail.passportId"
          >
            <p class="pw-confirmation-box__label">
              {{ 'pw.customerSummary.passportLabel' | translate }}
            </p>
            <div>
              {{ customerDetail.passportId }}
              <span
                *ngIf="customerDetail.custTaxNo"
                class="pw-i-24 pw-pan-icon-24"
              ></span>
            </div>
          </div>
          <div class="pw-confirmation-box__item">
            <p class="pw-confirmation-box__label">
              {{ 'pw.customerSummary.form60IdProofLabel' | translate }}
            </p>
            <div *ngIf="customerDetail?.customerDetails?.data?.form60IdType">
              {{ customerDetail?.customerDetails?.data?.form60IdType }}
            </div>
            <div
              *ngIf="
                customerDetail?.customerDetails?.data?.form60Number ||
                customerDetail?.customerDetails?.data?.idProof
              "
            >
              {{
                customerDetail?.customerDetails?.data?.form60Number
                  ? customerDetail?.customerDetails?.data?.form60Number
                  : customerDetail?.customerDetails?.data?.idProof
              }}
            </div>
          </div>
        </div>
      </div>

      <div class="pw-confirmation-box__grid-content" *ngIf="rivaahCouponDetail">
        <div class="">
          <p class="pw-confirmation-box__label">
            {{ 'pw.customerSummary.rivaahCouponCount' | translate }}
          </p>
          <div>
            {{ rivaahCouponDetail.attempts }}
          </div>
        </div>

        <div
          class="pw-confirmation-box__item"
          *ngIf="
            rivaahCouponDetail.expiryDate >= currentDate &&
            (rivaahCouponDetail.status === 'OPEN' ||
              rivaahCouponDetail.status === 'REDEMPTION_IN_PROGRESS')
          "
        >
          <button class="pw-btn pw-accent-btn" (click)="couponResend()">
            {{ 'pw.customerSummary.rivaahCouponResend' | translate }}
          </button>
        </div>
      </div>
    </div>
    <!-- <mat-tab-group
      dynamicHeight
      mat-stretch-tabs
      class="pw-mat-tab pw-confirmation-box__margin-top-0"
    >
      <mat-tab class="pw-mat-tab__item" label="General Details">

      </mat-tab>
    </mat-tab-group> -->
  </div>
  <poss-web-loader *ngIf="isLoading$ | async"> </poss-web-loader>
</div>
