<div class="row align-items-center">
  <div class="col-6 col-lg-3">
    <div class="row" [formGroup]="excludeThemeFormGroup">
      <mat-form-field class="col-lg col pw-gep-input">
        <mat-label class="pw-fourth-color">{{
          'pw.gePurityConfiguration.themeCodeLabel' | translate
        }}</mat-label>
        <input
          matInput
          formControlName="themeCode"
          class="pw-single-bordered-input"
        />
        <mat-error
          *ngIf="
            excludeThemeFormGroup.get('themeCode').errors &&
            excludeThemeFormGroup.get('themeCode').errors.errorArray
          "
        >
          <poss-web-error-info-tooltip
            [errorMessage]="
              excludeThemeFormGroup.get('themeCode').errors.errorArray
            "
          ></poss-web-error-info-tooltip>
        </mat-error>
      </mat-form-field>
      <div class="col-lg-auto ml-auto col-auto">
        <button
          class="pw-btn pw-icon-btn-small mt-3"
          (click)="addThemeCode()"
          [disabled]="formGroup.invalid || excludeThemeFormGroup.invalid"
        >
          +
        </button>
      </div>
    </div>
  </div>
  <div class="col-lg-9 col-12">
    <div class="row">
      <mat-form-field
        class="pw-search-bar col-lg-3 col-4"
        [formGroup]="itemSearchForm"
      >
        <input
          #itemCodeSearch
          matInput
          type="text"
          placeholder="Search Item Code"
          class="single-bordered-input"
          formControlName="itemSearch"
        />
        <mat-icon matSuffix>
          <span
            class="pw-i-16 pw-search-icon-16"
            *ngIf="!itemSearchForm.value.itemSearch"
          ></span>
        </mat-icon>
        <mat-icon matSuffix (click)="clearExcludeItemCodes()">
          <span
            *ngIf="itemSearchForm.value.itemSearch"
            class="pw-i-10 pw-close-icon-16"
          ></span
        ></mat-icon>
      </mat-form-field>
      <div class="col-auto ml-auto">
        <button
          (click)="downloadFile()"
          class="pw-btn pw-primary-btn pw-form-card__upload-btn"
        >
          <span class="pw-i-24 pw-download-icon-24"></span
          >{{ 'pw.gePurityConfiguration.downloadFormatLabel' | translate }}
        </button>
      </div>
      <div class="col-auto">
        <button
          (click)="fileInput.click()"
          class="pw-btn pw-primary-btn pw-form-card__upload-btn"
        >
          <span class="pw-i-24 pw-upload-icon-24"></span>
          <input
            [hidden]="true"
            #fileInput
            class="pw-hidden"
            type="file"
            (change)="uploadFile($event)"
          />
          {{ 'pw.gePurityConfiguration.uploadFileLabel' | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<poss-web-top-info-panel
  *ngIf="isFocusing && focusedHeaderName"
  [isFocusing]="isFocusing"
  [focusedHeaderName]="focusedHeaderName"
  [currentRowData]="currentRowInfo"
>
</poss-web-top-info-panel>
<div class="row">
  <div class="col-6 col-lg-3">
    <ag-grid-angular
      class="pw-titan-poss-theme pw-ag-grid-table"
      [columnDefs]="themeCodesColumnDefs"
      [rowData]="excludeThemeCodes"
      [context]="getContext()"
      [domLayout]="domLayout"
      [rowHeight]="rowHeight"
      [animateRows]="animateRows"
      [frameworkComponents]="getComponents()"
      [class.pw-ag-grid-table-auto]="autoHeight"
      [class.pw-ag-grid-table-fixed]="autoHeight"
      (gridReady)="gridReady($event)"
      (gridSizeChanged)="onGridSizeChanged($event)"
      [defaultColDef]="defaultColDef"
    >
    </ag-grid-angular>
  </div>

  <div class="col-12 col-lg-9">
    <ag-grid-angular
      class="pw-titan-poss-theme pw-ag-grid-table"
      [columnDefs]="itemCodeColumnDefs"
      [rowData]="excludeItemCodes"
      [context]="context"
      [domLayout]="domLayout"
      [rowHeight]="rowHeight"
      [animateRows]="animateRows"
      [class.pw-ag-grid-table-auto]="autoHeight"
      [class.pw-ag-grid-table-fixed]="autoHeight"
      (gridSizeChanged)="onGridSizeChanged($event)"
      [defaultColDef]="defaultColDef"
      (gridReady)="itemGroupGridReady($event)"
      (cellFocused)="onCellFocused($event)"
      (focusout)="focusOut($event)"
    >
    </ag-grid-angular>
    <mat-paginator
      class="pw-paginator"
      *ngIf="excludeItemCodesCount > minPageSize && excludeItemCodes.length > 0"
      [length]="excludeItemCodesCount"
      [pageSize]="pageEvent.pageSize"
      [pageIndex]="pageEvent.pageIndex"
      showFirstLastButtons
      [pageSizeOptions]="pageSizeOptions"
      (page)="paginator.emit($event)"
    >
    </mat-paginator>
  </div>
</div>
<div class="row mb-3">

</div>
