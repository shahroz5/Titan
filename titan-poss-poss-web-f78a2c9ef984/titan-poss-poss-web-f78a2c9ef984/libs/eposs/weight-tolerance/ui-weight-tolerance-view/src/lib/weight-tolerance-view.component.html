<div class="pw-form-card">
  <div class="row align-items-center">
    <div class="col-auto">
      <div class="pw-form-card__item mb-0">
        <h4>{{ 'pw.weightTolerance.weightToleranceDetails' | translate }}</h4>
      </div>
    </div>

    <div class="col-auto ml-auto">
      <div class="row align-items-center">
        <mat-form-field
          [formGroup]="searchForm"
          class="col-auto pw-search-bar mt-3"
        >
          <input
            type="text"
            matInput
            #searchBox
            formControlName="productCodeField"
            name="productCodeField"
            possWebMaxLengthValidator
            placeholder="{{
              'pw.weightTolerance.searchProductGroup' | translate
            }}"
            class="pw-single-bordered-input"
          />
          <mat-icon matSuffix>
            <span
              class="pw-i-16 pw-search-icon-16"
              *ngIf="!searchForm.value.searchValue"
            ></span>
          </mat-icon>
          <mat-icon matSuffix (click)="clearSearch()">
            <span
              *ngIf="searchForm.value.searchValue"
              class="pw-i-10 pw-close-icon-16"
            ></span
          ></mat-icon>
        </mat-form-field>
      </div>
    </div>
  </div>

  <ag-grid-angular
    class="ag-theme-alpine pw-titan-poss-theme pw-ag-grid-table"
    [columnDefs]="columnDefs"
    domLayout="autoHeight"
    rowSelection="multiple"
    [rowMultiSelectWithClick]="true"
    [enableRangeSelection]="true"
    [suppressRowClickSelection]="true"
    [frameworkComponents]="getComponents()"
    (gridReady)="gridReady($event)"
    (selectionChanged)="onSelectionChanged($event)"
    (gridSizeChanged)="onGridSizeChanged()"
  >
  </ag-grid-angular>

  <mat-paginator
    class="pw-paginator"
    *ngIf="
      totalCount > minPageSize && weightTolerance.length > 0 && totalCount != 1
    "
    [length]="totalCount"
    [pageSize]="pageEvent.pageSize"
    [pageIndex]="pageEvent.pageIndex"
    showFirstLastButtons
    [pageSizeOptions]="pageSizeOptions"
    (page)="paginator.emit($event)"
  >
  </mat-paginator>
</div>

<div class="row mb-3">
  <div class="col-auto ml-auto">
    <button
      (click)="openLocationMapping()"
      [disabled]="configId === 'new'"
      class="pw-btn pw-primary-btn"
    >
      {{ 'pw.weightTolerance.locationMapping' | translate }}
    </button>
  </div>
</div>
