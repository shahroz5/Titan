<div>
  <div class="row no-gutters">
    <div
      [formGroup]="selectForm"
      *ngIf="hasRemove"
      class="col-auto pw-list-card__checkbox"
    >
      <mat-checkbox formControlName="isItemSelected" (change)="selectItem()">
      </mat-checkbox>
    </div>
    <poss-web-item-details class="pw-item-details__allign"
      [item]="itemData"
      [toLoadImageUrlFromAPI]="true"
      (loadImageEvent)="loadImage()"
    >
    </poss-web-item-details>

    <ng-container [formGroup]="itemForm">
      <div class="col-7 pw-list-card__item">
        <div class="row">
          <div class="row no-gutters pw-input-group">
            <div class="col-auto pw-input-group__item">
              <div class="pw-input-group__item-label">
                {{ 'pw.otherReceiptsIssues.itemQuantityLabelText' | translate }}
              </div>
              <input
                type="number"
                min="1"
                possWebInput
                class="pw-bg-input-box pw-input-group__item-border-right"
                formControlName="measuredQuantity"
                [readonly]="readonlyData"
                (blur)="measuredQuantity()"
                name="quantityField"
                possWebMaxLengthValidator
              />
              <mat-error
                class="pw-input-group__error"
                *ngIf="
                  itemForm.get('measuredQuantity').errors &&
                  itemForm.get('measuredQuantity').errors.errorArray
                "
              >
                <poss-web-error-info-tooltip
                  [errorMessage]="
                    itemForm.get('measuredQuantity').errors.errorArray
                  "
                ></poss-web-error-info-tooltip>
              </mat-error>
            </div>
            <div class="col-auto pw-input-group__item">
              <div class="pw-input-group__item-label">
                {{
                  'pw.otherReceiptsIssues.itemWeightLableText' | translate
                }}:(gms)
              </div>
              <input
                possWebWeightInput
                class="pw-bg-input-box"
                formControlName="measuredWeight"
                [readonly]="readonlyData"
                (blur)="measuredWeight()"
                name="weightField"
                possWebMaxLengthValidator
              />
              <mat-error
                class="pw-input-group__error"
                *ngIf="
                  itemForm.get('measuredWeight').errors &&
                  itemForm.get('measuredWeight').errors.errorArray
                "
              >
                <poss-web-error-info-tooltip
                  [errorMessage]="
                    itemForm.get('measuredWeight').errors.errorArray
                  "
                ></poss-web-error-info-tooltip>
              </mat-error>
            </div>

            <div class="col-auto pw-input-group__item" *ngIf="!readonlyData">
              <div class="pw-input-group__item-label">
                {{ 'pw.otherReceiptsIssues.assginedBinLableText' | translate }}
              </div>

              <mat-select
                disableOptionCentering
                formControlName="assignedBin"
                class="pw-bg-input-box pw-select-box-padding pw-input-group__item-border-left"
                value="{{ binGroupCode }}"
                [disabled]="readonlyData"
                placeholder="Select"
              >
                <mat-option value="{{ binGroupCode }}">{{
                  binGroupCode
                }}</mat-option>
              </mat-select>
            </div>
          </div>
          <div class="col-3" *ngIf="!readonlyData">
            <div class="pw-sub-heading">
              {{
                'pw.otherReceiptsIssues.assginedBinCodeLableText' | translate
              }}
            </div>
            <button
              mat-flat-button
              class="pw-btn pw-accent-btn"
              (click)="openBinSelectionPopup()"
            >
              <div class="row no-gutters pw-text-left">
                <div class="col pw-text-overflow-ellipisis">
                  <p class="pw-text-overflow-ellipisis">
                    <ng-container *ngIf="selectedBinCode; else showSelectBin">
                      {{ selectedBinCode }}
                    </ng-container>
                    <ng-template #showSelectBin>
                      {{
                        'pw.otherReceiptsIssues.selectBinCodeLable' | translate
                      }}
                    </ng-template>
                  </p>
                </div>
                <div class="col-auto ml-auto">
                  <span class="pw-i-16 pw-bin-icon-16"></span>
                </div>
              </div>
            </button>
            <mat-error *ngIf="!selectedBinCode">
              {{
                'pw.otherReceiptsIssues.RequiredFieldErrorMessage' | translate
              }}
            </mat-error>
          </div>
          <div class="col-auto pw-list-card__checkbox mb-5">
            <div class="pw-sub-heading">
              {{
                'HallMark' | translate
              }}
            </div>
            <!-- {{itemForm.get('isHallmarked').value}} -->
            <mat-checkbox formControlName="isHallmarked"  [checked]="itemForm.get('isHallmarked').value" (change)="selecthallMark($event)" >
            </mat-checkbox>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
  <div class="row">
    <div class="flex-fill"></div>
    <div class="col-auto">
      <span
        *ngIf="
          itemForm.get('measuredWeight').dirty ||
          itemForm.get('measuredWeight').touched
        "
        class="pw-list-card__error-label"
      >
        {{ weightMismatchError }}
      </span>
      <span
        *ngIf="
          itemForm.get('measuredQuantity').dirty ||
          itemForm.get('measuredQuantity').touched
        "
        class="pw-list-card__error-label"
      >
        {{ quantityError }}
      </span>
    </div>
  </div>
</div>
