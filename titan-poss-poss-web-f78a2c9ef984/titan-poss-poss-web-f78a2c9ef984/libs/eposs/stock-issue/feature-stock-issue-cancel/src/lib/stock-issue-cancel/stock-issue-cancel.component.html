<div class="row">
  <mat-form-field
    class="col-lg-3 col-sm-4 ml-auto pw-search-bar"
    floatLabel="never"
  >
    <input
      #searchBox
      matInput
      class="pw-input-box"
      [placeholder]="'pw.stockIssue.searchByDocNumLabel' | translate"
      [formControl]="searchFormControl"
      (keypress)="numberCheck($event)"
    />
    <mat-icon matSuffix>
      <span
        *ngIf="!searchFormControl.value"
        class="pw-i-16 pw-search-icon-16"
      ></span
    ></mat-icon>
    <mat-icon matSuffix (click)="clearSearch($event)">
      <span
        *ngIf="searchFormControl.value"
        class="pw-i-10 pw-close-icon-16"
      ></span
    ></mat-icon>
  </mat-form-field>
</div>

<div class="pw-scrollable">
  <ng-container *ngIf="!showNoResultsFoundNaN && isL1L2Store">
    <poss-web-card-list
      [count]="totalIssueCancelSTNCount$ | async"
      [dataList]="BTQ_BTQ_PendingSTN$ | async"
      [pageSize]="pageSize"
      (loadMore)="loadStocks($event)"
      (selected)="onSelected($event)"
    >
      <ng-template let-item="data">
        <poss-web-card-title
          >{{ 'pw.stockIssue.docNumberLabel' | translate }}
          {{ item.srcDocNo }}</poss-web-card-title
        >

        <poss-web-card-subtitle
          >{{ item.destLocationCode }} |
          {{ item.destLocationDescription }}</poss-web-card-subtitle
        >
        <poss-web-card-content>
          <p>
            {{ 'pw.stockIssue.reqDocNumLabel' | translate }} {{ item.reqDocNo }}
          </p>
          <p>
            {{ item.totalAvailableQuantity }}
            {{ 'pw.stockIssue.qtyLabel' | translate }} |
            {{
              item.totalAvailableValue | currencyFormatter: item.currencyCode
            }}
          </p>
          <p>
            {{ 'pw.stockIssue.totalWeightLabel' | translate }}
            {{ item.totalAvailableWeight | weightFormatter }}
            {{ item.weightUnit }}
          </p>
          <p>
            {{ 'pw.stockIssue.docDateLabel' | translate }}
            {{ item.srcDocDate | dateFormatter }}
          </p>
          <p>
            {{ 'pw.stockIssue.reqDocDateLabel' | translate }}
            {{ item.reqDocDate | dateFormatter }}
          </p>

        </poss-web-card-content>
      </ng-template>
    </poss-web-card-list>

    <h3
      class="pw-text-center m-5"
      *ngIf="
        !(isLoadingBTQ_BTQ_STN || (isLoadingCount$ | async)) &&
        (BTQ_BTQ_PendingSTN$ | async) &&
        (BTQ_BTQ_PendingSTN$ | async).length === 0
      "
    >
      {{ noDataFoundMessage }}
    </h3>
  </ng-container>

  <h3 *ngIf="showNoResultsFoundNaN" class="pw-text-center m-5">
    {{ noDataFoundMessage }}
  </h3>

  <poss-web-loader *ngIf="isLoadingBTQ_BTQ_STN || (isLoadingCount$ | async)">
  </poss-web-loader>
</div>
