<div class="pw-top-heading-container">
  <div class="row pw-top-heading-container__item">
    <div class="col-auto">
      <div class="pw-top-heading-container__main-head">
        <a (click)="back()">
          <span class="pw-i-24 pw-back-arrow-icon-24"></span>
        </a>
        <span class="pw-i-36 pw-issue-stock-icon-36"></span>
        <div>
          <h2>{{ 'pw.stockIssue.title' | translate }}</h2>
          <h5 class="pw-top-heading-container__sub-heading">
            {{ 'pw.stockIssue.subTitle' | translate }}
          </h5>
        </div>
      </div>
    </div>

    <div class="col-lg-3 col-md-4 col-6 ml-auto pw-text-right">
      <ng-container
        *possWebPermission="loadPermission(STOCK_ISSUE_TO_FACTORY_LIST)"
      >
        <mat-form-field
          appearance="outline"
          floatLabel="never"
          class="col-auto pw-selectable-dropdown"
          (click)="$event.stopPropagation()"
          [formGroup]="transferTypeForm"
        >
          <mat-select
            #transferTypeDropDown
            formControlName="selectedTransferType"
            disableOptionCentering
            panelClass="pw-panel-primary"
            (selectionChange)="createStockIssueTransferType()"
            placeholder="Return TEP / GEP"
          >
            <mat-option
              value="BTQ_CFA"
              *possWebPermission="loadPermission(BTQ_CFA_DROPDOWNLIST_VALUE)"
              >{{ 'pw.stockIssue.cfaLable' | translate }}</mat-option
            >
            <mat-option
              value="TEP_PLAIN"
              *possWebPermission="loadPermission(TEP_PLAIN_DROPDOWNLIST_VALUE)"
              >{{ 'pw.stockIssue.tepPlainText' | translate }}</mat-option
            >
            <mat-option
              value="TEP_STUDDED"
              *possWebPermission="
                loadPermission(TEP_STUDDED_DROPDOWNLIST_VALUE)
              "
            >
              {{ 'pw.stockIssue.tepStuddedtext' | translate }}</mat-option
            >
            <mat-option
              value="GEP"
              *possWebPermission="loadPermission(GEP_DROPDOWNLIST_VALUE)"
              >{{ 'pw.stockIssue.gepText' | translate }}</mat-option
            >
            <mat-option
              value="TEP_GOLD_COIN"
              *possWebPermission="loadPermission(GOLD_COIN_DROPDOWNLIST_VALUE)"
              >{{ 'pw.stockIssue.GCText' | translate }}</mat-option
            >
            <mat-option
              value="DEFECTIVE"
              *possWebPermission="
                loadPermission(DISPUTE_DEFECTIVE_DROPDOWNLIST_VALUE)
              "
              >{{ 'Dispute/Defective' | translate }}</mat-option
            >
            <mat-option
              value="DIRECT_ISSUE"
              *possWebPermission="loadPermission(DIRECT_ISSUE_DROPDOWNLIST_VALUE)"
              >{{ 'Direct Issue' | translate }}</mat-option
            >
          </mat-select>
        </mat-form-field>
      </ng-container>
    </div>
  </div>
</div>
<div class="pw-tab">
  <ul #tabRef class="pw-tab__list">
    <li
      id="issueFac"
      class="pw-tab__list-item"
      *possWebPermission="loadPermission(STOCK_ISSUE_ISSUE_TO_FACTORY_TAB)"
    >
      <a
        [class.pw-is-active-bar]="type === StockIssueTypesEnumRef.FACTORY"
        (click)="changeStockIssueType(StockIssueTypesEnumRef.FACTORY)"
      >
        <h5 class="pw-tab__item">
          {{ 'pw.stockIssue.issueToFactoryTabText' | translate }}
          <span class="pw-fourth-color"
            >({{ BTQ_FAC_IssuePendingSTNCount$ | async }})</span
          >
        </h5>
      </a>
    </li>
    <li
      id="issueBtq"
      class="pw-tab__list-item"
      *possWebPermission="
        loadPermission(STOCK_ISSUE_ISSUE_TO_OTHER_BOUTIQUES_TAB)
      "
    >
      <a
        [class.pw-is-active-bar]="type == StockIssueTypesEnumRef.BOUTIQUE"
        (click)="changeStockIssueType(StockIssueTypesEnumRef.BOUTIQUE)"
      >
        <h5 class="pw-tab__item">
          {{ 'pw.stockIssue.issueToBoutiqueTabText' | translate }}
          <span class="pw-fourth-color"
            >({{ BTQ_BTQ_IssuePendingSTNCount$ | async }})</span
          >
        </h5>
      </a>
    </li>
    <li
      id="issueMer"
      class="pw-tab__list-item"
      *possWebPermission="loadPermission(STOCK_ISSUE_ISSUE_TO_MERCHANDISE_TAB)"
    >
      <a
        [class.pw-is-active-bar]="type === StockIssueTypesEnumRef.MERCHANDISE"
        (click)="changeStockIssueType(StockIssueTypesEnumRef.MERCHANDISE)"
      >
        <h5 class="pw-tab__item">
          {{ 'pw.stockIssue.issueFromMerchandiseTabText' | translate }}
          <span class="pw-fourth-color"
            >({{ BTQ_MER_IssuePendingSTNCount$ | async }})</span
          >
        </h5>
      </a>
    </li>
    <ng-container *ngIf="isCancellationAllowed && isL1L2Store">
      <li
        id="issueCancel"
        class="pw-tab__list-item"
        *possWebPermission="
          loadPermission(STOCK_ISSUE_ISSUE_TO_OTHER_BOUTIQUES_CANCEL_TAB)
        "
      >
        <a
          [class.pw-is-active-bar]="type === StockIssueTypesEnumRef.CANCEL"
          (click)="changeStockIssueType(StockIssueTypesEnumRef.CANCEL)"
        >
          <h5 class="pw-tab__item">
            {{ 'pw.stockIssue.stnCancellationTabText' | translate }}
            <span class="pw-fourth-color"
              >({{ BTQ_BTQ_IssueCancelPendingSTNCount$ | async }})</span
            >
          </h5>
        </a>
      </li>
    </ng-container>
    <li
      id="issueHis"
      class="pw-tab__list-item"
      *possWebPermission="loadPermission(STOCK_ISSUE_HISTORY_TAB)"
    >
      <a
        [class.pw-is-active-bar]="type == StockIssueTypesEnumRef.HISTORY"
        (click)="changeStockIssueTypeHistoryTab(StockIssueTypesEnumRef.HISTORY)"
      >
        <h5 class="pw-tab__item">History</h5>
      </a>
    </li>
    <mat-form-field
      class="ml-auto pt-1 pw-width-150 pw-form-field-padding-bottom-0"
      [formGroup]="historyAPITypeForm"
      [ngClass]="type == StockIssueTypesEnumRef.HISTORY ? '' : 'hidden'"
    >
      <mat-select
        disableOptionCentering
        #issueTypeDropdown
        placeholder="Select Type"
        formControlName="selectedType"
      >
        <div
          *ngIf="
            type == StockIssueTypesEnumRef.HISTORY &&
            (requestType === stockIssueAPiRequestTypesEnumRef.FAC ||
              requestType === stockIssueAPiRequestTypesEnumRef.TEP_PLAIN ||
              requestType === 'TEP-PLAIN' ||
              requestType === stockIssueAPiRequestTypesEnumRef.TEP_STUDDED ||
              requestType === 'TEP-STUDDED' ||
              requestType === stockIssueAPiRequestTypesEnumRef.GEP ||
              requestType === 'TEP-GOLD-COIN' ||
              requestType === stockIssueAPiRequestTypesEnumRef.TEP_GOLD_COIN ||
              requestType === 'BTQ-CFA' ||
              requestType === stockIssueAPiRequestTypesEnumRef.BTQ_CFA ||
              requestType === 'DEFECTIVE' ||
              requestType === stockIssueAPiRequestTypesEnumRef.DEFECTIVE)
          "
        >
          <ng-container *ngFor="let type of historyFactoryTypes">
            <mat-option
              [value]="type.value"
              *possWebPermission="loadPermission(type.elementName)"
            >
              {{ type.translateKey | translate }}
            </mat-option>
          </ng-container>
        </div>
        <div
          *ngIf="
            type == StockIssueTypesEnumRef.HISTORY &&
            (requestType === stockIssueAPiRequestTypesEnumRef.BTQ ||
              requestType === stockIssueAPiRequestTypesEnumRef.MER ||
              requestType === 'DIRECT-ISSUE' ||
              requestType === stockIssueAPiRequestTypesEnumRef.DIRECT_ISSUE)
          "
        >
          <ng-container *ngFor="let type of historyBoutiqueTypes">
            <mat-option
              [value]="type.value"
              *possWebPermission="loadPermission(type.elementName)"
            >
              {{ type.translateKey | translate }}
            </mat-option>
          </ng-container>
        </div>
      </mat-select>
    </mat-form-field>
  </ul>
</div>

<!-- <div
  class="container-fluid"
  [class.pw-overlay-notification-gutter]="hasNotification"
>
  <div class="row">
    <div class="col-12 col-lg-10 m-auto">
      <div class="pw-top-heading-container">
        <div class="row pw-top-heading-container__item">
          <div class="col-auto">
            <div class="pw-top-heading-container__main-head">
              <a (click)="back()">
                <span class="pw-i-24 pw-back-arrow-icon-24"></span>
              </a>
              <span class="pw-i-36 pw-issue-stock-icon-36"></span>
              <div>
                <h2>{{ 'pw.stockIssue.title' | translate }}</h2>
                <h5 class="pw-top-heading-container__sub-heading">
                  {{ 'pw.stockIssue.subTitle' | translate }}
                </h5>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-4 col-6 ml-auto pw-text-right">
            <ng-container
              *possWebPermission="loadPermission(STOCK_ISSUE_TO_FACTORY_LIST)"
            >
              <mat-form-field
                appearance="outline"
                floatLabel="never"
                class="col-auto pw-selectable-dropdown"
                (click)="$event.stopPropagation()"
                [formGroup]="transferTypeForm"
              >
                <mat-select
                  #transferTypeDropDown
                  formControlName="selectedTransferType"
                  disableOptionCentering
                  panelClass="pw-panel-primary"
                  (selectionChange)="createStockIssueTransferType()"
                  placeholder="Select Issue Type"
                >
                  <mat-option
                    value="TEP_PLAIN"
                    *possWebPermission="
                      loadPermission(TEP_PLAIN_DROPDOWNLIST_VALUE)
                    "
                    >{{ 'pw.stockIssue.tepPlainText' | translate }}</mat-option
                  >
                  <mat-option
                    value="TEP_STUDDED"
                    *possWebPermission="
                      loadPermission(TEP_STUDDED_DROPDOWNLIST_VALUE)
                    "
                  >
                    {{ 'pw.stockIssue.tepStuddedtext' | translate }}</mat-option
                  >
                  <mat-option
                    value="GEP"
                    *possWebPermission="loadPermission(GEP_DROPDOWNLIST_VALUE)"
                    >{{ 'pw.stockIssue.gepText' | translate }}</mat-option
                  >
                </mat-select>
              </mat-form-field>
            </ng-container>
          </div>
        </div>
      </div>

      <ng-container>
        <div class="pw-tab">
          <ul #tabRef class="pw-tab__list">
            <li
              id="issueFac"
              class="pw-tab__list-item"
              *possWebPermission="
                loadPermission(STOCK_ISSUE_ISSUE_TO_FACTORY_TAB)
              "
            >
              <a
                [class.pw-is-active-bar]="
                  type === StockIssueTypesEnumRef.FACTORY
                "
                (click)="changeStockIssueType(StockIssueTypesEnumRef.FACTORY)"
              >
                <h5 class="pw-tab__item">
                  {{ 'pw.stockIssue.issueToFactoryTabText' | translate }}
                  <span class="pw-fourth-color"
                    >({{ BTQ_FAC_IssuePendingSTNCount$ | async }})</span
                  >
                </h5>
              </a>
            </li>
            <li
              id="issueBtq"
              class="pw-tab__list-item"
              *possWebPermission="
                loadPermission(STOCK_ISSUE_ISSUE_TO_OTHER_BOUTIQUES_TAB)
              "
            >
              <a
                [class.pw-is-active-bar]="
                  type == StockIssueTypesEnumRef.BOUTIQUE
                "
                (click)="changeStockIssueType(StockIssueTypesEnumRef.BOUTIQUE)"
              >
                <h5 class="pw-tab__item">
                  {{ 'pw.stockIssue.issueToBoutiqueTabText' | translate }}
                  <span class="pw-fourth-color"
                    >({{ BTQ_BTQ_IssuePendingSTNCount$ | async }})</span
                  >
                </h5>
              </a>
            </li>
            <li
              id="issueMer"
              class="pw-tab__list-item"
              *possWebPermission="
                loadPermission(STOCK_ISSUE_ISSUE_TO_MERCHANDISE_TAB)
              "
            >
              <a
                [class.pw-is-active-bar]="
                  type === StockIssueTypesEnumRef.MERCHANDISE
                "
                (click)="
                  changeStockIssueType(StockIssueTypesEnumRef.MERCHANDISE)
                "
              >
                <h5 class="pw-tab__item">
                  {{ 'pw.stockIssue.issueFromMerchandiseTabText' | translate }}
                  <span class="pw-fourth-color"
                    >({{ BTQ_MER_IssuePendingSTNCount$ | async }})</span
                  >
                </h5>
              </a>
            </li>
            <li
              id="issueHis"
              class="pw-tab__list-item"
              *possWebPermission="loadPermission(STOCK_ISSUE_HISTORY_TAB)"
            >
              <a
                [class.pw-is-active-bar]="
                  type == StockIssueTypesEnumRef.HISTORY
                "
                (click)="
                  changeStockIssueTypeHistoryTab(StockIssueTypesEnumRef.HISTORY)
                "
              >
                <h5 class="pw-tab__item">History</h5>
              </a>
            </li>
            <mat-form-field
              class="ml-auto pt-1 pw-width-150 pw-form-field-padding-bottom-0"
              [formGroup]="historyAPITypeForm"
              [ngClass]="type == StockIssueTypesEnumRef.HISTORY ? '' : 'hidden'"
            >
              <mat-select
                disableOptionCentering
                #issueTypeDropdown
                placeholder="Select Type"
                formControlName="selectedType"
              >
                <div
                  *ngIf="
                    type == StockIssueTypesEnumRef.HISTORY &&
                    historyForm.get('selectRadioButton').value ==
                      StockIssueTypesEnumRef.FACTORY
                  "
                >
                  <ng-container *ngFor="let type of historyFactoryTypes">
                    <mat-option
                      [value]="type.value"
                      *possWebPermission="loadPermission(type.elementName)"
                    >
                      {{ type.translateKey | translate }}
                    </mat-option>
                  </ng-container>
                </div>
                <div
                  *ngIf="
                    type == StockIssueTypesEnumRef.HISTORY &&
                    historyForm.get('selectRadioButton').value ==
                      StockIssueTypesEnumRef.BOUTIQUE
                  "
                >
                  <ng-container *ngFor="let type of historyBoutiqueTypes">
                    <mat-option
                      [value]="type.value"
                      *possWebPermission="loadPermission(type.elementName)"
                    >
                      {{ type.translateKey | translate }}
                    </mat-option>
                  </ng-container>
                </div>
              </mat-select>
            </mat-form-field>
          </ul>
        </div>
      </ng-container>
      <div class="row align-items-center">
        <ng-container [formGroup]="historyForm">
          <mat-radio-group
            *ngIf="type == StockIssueTypesEnumRef.HISTORY"
            aria-label="Select an option"
            class="col-lg-auto col-auto row"
            formControlName="selectRadioButton"
          >
            <mat-radio-button
              value="{{ StockIssueTypesEnumRef.FACTORY }}"
              class="col-auto"
              *possWebPermission="loadPermission(HISTORY_RADIO_BTN_FACTORY)"
            >
              <p>Issued to Factory</p>
            </mat-radio-button>
            <mat-radio-button
              value="{{ StockIssueTypesEnumRef.BOUTIQUE }}"
              class="col-auto"
              *possWebPermission="loadPermission(HISTORY_RADIO_BTN_BOUTIQUE)"
            >
              <p>Issued to Other Boutiques</p>
            </mat-radio-button>
          </mat-radio-group>
        </ng-container>

        <div
          class="col-auto ml-auto"
          *ngIf="type == StockIssueTypesEnumRef.HISTORY"
        >
          <a (click)="openHistoryFilter()">
            <p>
              <span
                class="pw-i-24 pw-filter-icon-24 pw-filter-box__icon"
                [ngClass]="
                  !(
                    (advanceFilter?.docFromDate == null ||
                      advanceFilter?.docFromDate == '') &&
                    (advanceFilter?.docToDate == null ||
                      advanceFilter?.docToDate == '') &&
                    (advanceFilter?.fiscalYear == null ||
                      advanceFilter?.fiscalYear == '') &&
                    (advanceFilter?.locationCode == null ||
                      advanceFilter?.locationCode == '')
                  )
                    ? 'pw-filter-icon-color-24'
                    : ''
                "
              ></span>
              {{ 'pw.stockReceive.advancedFilterText' | translate }}
            </p>
          </a>
        </div>

        <mat-form-field
          floatLabel="never"
          class="col-lg-3 col-4 pw-search-bar"
          [hidden]="type !== StockIssueTypesEnumRef.HISTORY"
        >
          <input
            #historySearch
            matInput
            class="pw-input-box"
            [formControl]="historySearchControl"
            [placeholder]="'Search with Doc No'"
            (keypress)="numberCheck($event)"
          />

          <mat-icon matSuffix>
            <span
              class="pw-i-16 pw-search-icon-16"
              *ngIf="!historySearchControl.value"
            ></span
          ></mat-icon>
          <mat-icon matSuffix (click)="clearHistorySearch()">
            <span
              *ngIf="historySearchControl.value"
              class="pw-i-10 pw-close-icon-16"
            ></span
          ></mat-icon>
        </mat-form-field>
      </div>

      <div
        class="row"
        [ngClass]="{
          hidden: type == StockIssueTypesEnumRef.HISTORY
        }"
      >
        <mat-form-field
          class="col-lg-3 col-sm-4 ml-auto pw-search-bar"
          floatLabel="never"
        >
          <input
            #searchBox
            matInput
            class="pw-input-box"
            [placeholder]="'Search with Request No.'"
            [formControl]="searchFormControl"
            (keypress)="numberCheck($event)"
          />
          <mat-icon matSuffix>
            <span
              *ngIf="!searchFormControl.value"
              class="pw-i-16 pw-search-icon-16"
            ></span
          ></mat-icon>
          <mat-icon matSuffix (click)="clearSearch($event)">
            <span
              *ngIf="searchFormControl.value"
              class="pw-i-10 pw-close-icon-16"
            ></span
          ></mat-icon>
        </mat-form-field>
      </div>

      <div class="pw-scrollable">
        <ng-container *ngIf="!showNoResultsFoundNaN && isL1L2Store">
          <poss-web-card-list
            *ngIf="type == StockIssueTypesEnumRef.FACTORY"
            [count]="
              (isSearchingIssues$ | async) === false &&
              (hasSearchIssueResults$ | async) === false
                ? (BTQ_FAC_IssuePendingSTNCount$ | async)
                : 0
            "
            [dataList]="
              (isSearchingIssues$ | async) === false &&
              (hasSearchIssueResults$ | async) === false
                ? (BTQ_FAC_PendingSTN$ | async)
                : (searchIssueSTNResult$ | async)
            "
            [pageSize]="pageSize"
            (loadMore)="loadStocks($event)"
            (selected)="onSelected($event)"
          >
            <ng-template let-item="data">
              <poss-web-card-title
                >Request No: {{ item.reqDocNo }}</poss-web-card-title
              >
              <poss-web-card-subtitle
                >{{ item.destLocationCode }} |
                {{ item.destLocationDescription }}</poss-web-card-subtitle
              >
              <poss-web-card-content>
                <p>
                  {{ item.totalAvailableQuantity }}
                  Qty. |
                  {{
                    item.totalAvailableValue
                      | currencyFormatter: item.currencyCode
                  }}
                </p>
                <p>
                  Total Weight:
                  {{ item.totalAvailableWeight | weightFormatter }}
                  {{ item.weightUnit }}
                </p>
                <p>
                  {{ item.reqDocDate | dateFormatter }}
                </p>
                <div class="row">
                  <div class="col"></div>
                </div>
              </poss-web-card-content>
            </ng-template>
          </poss-web-card-list>

          <poss-web-card-list
            *ngIf="type == StockIssueTypesEnumRef.BOUTIQUE"
            [count]="
              (isSearchingIssues$ | async) === false &&
              (hasSearchIssueResults$ | async) === false
                ? (BTQ_BTQ_IssuePendingSTNCount$ | async)
                : 0
            "
            [dataList]="
              (isSearchingIssues$ | async) === false &&
              (hasSearchIssueResults$ | async) === false
                ? (BTQ_BTQ_PendingSTN$ | async)
                : (searchIssueSTNResult$ | async)
            "
            [pageSize]="pageSize"
            (loadMore)="loadStocks($event)"
            (selected)="onSelected($event)"
          >
            <ng-template let-item="data">
              <poss-web-card-title
                >Request No: {{ item.reqDocNo }}</poss-web-card-title
              >
              <poss-web-card-subtitle
                >{{ item.destLocationCode }} |
                {{ item.destLocationDescription }}</poss-web-card-subtitle
              >
              <poss-web-card-content>
                <p>
                  {{ item.totalAvailableQuantity }}
                  Qty. |
                  {{
                    item.totalAvailableValue
                      | currencyFormatter: item.currencyCode
                  }}
                </p>
                <p>
                  Total Weight:
                  {{ item.totalAvailableWeight | weightFormatter }}
                  {{ item.weightUnit }}
                </p>
                <div class="row">
                  <div class="col">
                    <p>
                      {{ item.reqDocDate | dateFormatter }}
                    </p>
                  </div>
                </div>
              </poss-web-card-content>
            </ng-template>
          </poss-web-card-list>

          <poss-web-card-list
            *ngIf="type == StockIssueTypesEnumRef.MERCHANDISE"
            [count]="
              (isSearchingIssues$ | async) === false &&
              (hasSearchIssueResults$ | async) === false
                ? (BTQ_MER_IssuePendingSTNCount$ | async)
                : 0
            "
            [dataList]="
              (isSearchingIssues$ | async) === false &&
              (hasSearchIssueResults$ | async) === false
                ? (BTQ_MER_PendingSTN$ | async)
                : (searchIssueSTNResult$ | async)
            "
            [pageSize]="pageSize"
            (loadMore)="loadStocks($event)"
            (selected)="onSelected($event)"
          >
            <ng-template let-item="data">
              <poss-web-card-title
                >Request No: {{ item.reqDocNo }}</poss-web-card-title
              >
              <poss-web-card-subtitle
                >{{ item.destLocationCode }} |
                {{ item.destLocationDescription }}</poss-web-card-subtitle
              >
              <poss-web-card-content>
                <p></p>
                <p>
                  {{ item.totalAvailableQuantity }}
                  Qty. |
                  {{
                    item.totalAvailableValue
                      | currencyFormatter: item.currencyCode
                  }}
                </p>
                <p>
                  Total Weight:
                  {{ item.totalAvailableWeight | weightFormatter }}
                  {{ item.weightUnit }}
                </p>
                <p>
                  {{ item.reqDocDate | dateFormatter }}
                </p>
                <div class="row">
                  <div class="col"></div>
                </div>
              </poss-web-card-content>
            </ng-template>
          </poss-web-card-list>
          <poss-web-card-list
            *ngIf="type == StockIssueTypesEnumRef.HISTORY"
            [count]="
              (isSearchingIssues$ | async) === false &&
              (hasSearchIssueResults$ | async) === false
                ? (issueHistoryCount$ | async)
                : 0
            "
            [dataList]="
              (isSearchingIssues$ | async) === false &&
              (hasSearchIssueResults$ | async) === false
                ? (issueHistory$ | async)
                : (searchIssueSTNResult$ | async)
            "
            [pageSize]="pageSize"
            (loadMore)="loadStocks($event)"
            (selected)="onSelected($event)"
          >
            <ng-template let-item="data">
              <poss-web-card-title
                >Doc No: {{ item.srcDocNo }}</poss-web-card-title
              >
              <poss-web-card-subtitle
                >{{ item.destLocationCode }} |
                {{ item.destLocationDescription }}
              </poss-web-card-subtitle>
              <poss-web-card-content>
                <p></p>
                <p
                  *ngIf="
                    !(
                      requestType === 'GEP' ||
                      requestType === 'TEP-PLAIN' ||
                      requestType === 'TEP-STUDDED'
                    )
                  "
                >
                  Req Doc No: {{ item.reqDocNo }}
                </p>
                <p>
                  {{ item.totalMeasuredQuantity }}
                  Qty. |
                  {{
                    item.totalMeasuredValue
                      | currencyFormatter: item.currencyCode
                  }}
                </p>
                <p>
                  Total Weight:
                  {{ item.totalMeasuredWeight | weightFormatter }}
                  {{ item.weightUnit }}
                </p>
                <p>Doc Date: {{ item.srcDocDate | dateFormatter }}</p>
                <p
                  *ngIf="
                    !(
                      requestType === 'GEP' ||
                      requestType === 'TEP-PLAIN' ||
                      requestType === 'TEP-STUDDED'
                    )
                  "
                >
                  Req Date: {{ item.reqDocDate | dateFormatter }}
                </p>
                <p [ngClass]="getStatus(item.status)">Status: {{ status }}</p>
                <div class="row">
                  <div class="col"></div>
                </div>
              </poss-web-card-content>
            </ng-template>
          </poss-web-card-list>

          <h3
            class="pw-text-center m-5"
            *ngIf="
              !(
                isLoadingBTQ_BTQ_STN ||
                isLoadingBTQ_FAC_STN ||
                isLoadingBTQ_MER_STN ||
                isLoadingHistory ||
                (isLoadingCount$ | async) ||
                (isLoadingHistoryCount$ | async)
              ) &&
              (isSearchingIssues$ | async) === false &&
              ((type == 'factory' &&
                (hasSearchIssueResults$ | async) === false &&
                (BTQ_FAC_PendingSTN$ | async) &&
                (BTQ_FAC_PendingSTN$ | async).length === 0) ||
                (type == 'boutique' &&
                  (hasSearchIssueResults$ | async) === false &&
                  (BTQ_BTQ_PendingSTN$ | async) &&
                  (BTQ_BTQ_PendingSTN$ | async).length === 0) ||
                (type == 'merchandise' &&
                  (hasSearchIssueResults$ | async) === false &&
                  (BTQ_MER_PendingSTN$ | async) &&
                  (BTQ_MER_PendingSTN$ | async).length === 0) ||
                ((hasSearchIssueResults$ | async) &&
                  (searchIssueSTNResult$ | async) &&
                  (searchIssueSTNResult$ | async).length === 0))
            "
          >
            {{ noDataFoundMessage }}
          </h3>
          <h3
            class="pw-success-color pw-message pw-text-center mg-t-100"
            *ngIf="
              type == 'history' &&
              isLoadingHistory == false &&
              (issueHistory$ | async) &&
              (issueHistory$ | async).length === 0 &&
              (advanceFilter?.docFromDate === null ||
                advanceFilter?.docFromDate == '') &&
              (advanceFilter?.docToDate === null ||
                advanceFilter?.docToDate == '') &&
              (advanceFilter?.locationCode == null ||
                advanceFilter?.locationCode == '') &&
              (advanceFilter?.fiscalYear == null ||
                advanceFilter?.fiscalYear == '')
            "
          >
            {{ noDataFoundMessage }}
          </h3>
          <h3
            class="pw-success-color pw-message pw-text-center mg-t-100"
            *ngIf="
              type == 'history' &&
              isLoadingHistory == false &&
              (issueHistory$ | async) &&
              (issueHistory$ | async).length === 0 &&
              !(
                (advanceFilter?.docFromDate === null ||
                  advanceFilter?.docFromDate == '') &&
                (advanceFilter?.docToDate === null ||
                  advanceFilter?.docToDate == '') &&
                (advanceFilter?.locationCode == null ||
                  advanceFilter?.locationCode == '') &&
                (advanceFilter?.fiscalYear == null ||
                  advanceFilter?.fiscalYear == '')
              )
            "
          >
            {{ noDataFoundMessage }}
          </h3>
        </ng-container>

        <h3 *ngIf="showNoResultsFoundNaN" class="pw-text-center m-5">
          {{ noDataFoundMessage }}
        </h3>

        <poss-web-loader
          *ngIf="
            isLoadingBTQ_BTQ_STN ||
            isLoadingBTQ_FAC_STN ||
            isLoadingBTQ_MER_STN ||
            (isLoadingCount$ | async) ||
            (isHistoryLoading$ | async)
          "
        >
        </poss-web-loader>
        <poss-web-loader *ngIf="isSearchingIssues$ | async"></poss-web-loader>
      </div>
    </div>
  </div>
</div> -->
