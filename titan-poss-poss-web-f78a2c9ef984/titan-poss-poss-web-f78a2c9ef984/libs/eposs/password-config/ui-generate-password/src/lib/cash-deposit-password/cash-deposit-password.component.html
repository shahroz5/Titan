<div class="row">
  <div class="col-lg-5 col-md-6 col-12">
    <div class="pw-form-card">
      <form
        [formGroup]="cashDepositPasswordForm"
        (ngSubmit)="onSubmit()"
        novalidate
        autocomplete="off"
        #cashDepositPasswordFormDirective="ngForm"
      >
        <mat-form-field>
          <input
            class="pw-single-bordered-input"
            matInput
            [placeholder]="
              'pw.passwordConfig.locationCodePlaceHolder' | translate
            "
            formControlName="locationCode"
            readonly
            required
            (click)="openLocationSelectionPopup()"
          />
          <mat-icon matSuffix>
            <span class="pw-i-16 pw-location-icon-16"></span>
          </mat-icon>
          <mat-error
            *ngIf="
              cashDepositPasswordForm.get('locationCode').errors &&
              cashDepositPasswordForm.get('locationCode').errors.errorArray
            "
          >
            <poss-web-error-info-tooltip
              [errorMessage]="
                cashDepositPasswordForm.get('locationCode').errors.errorArray
              "
            ></poss-web-error-info-tooltip>
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label>{{
            'pw.passwordConfig.businessDatePlaceholder' | translate
          }}</mat-label>
          <input
            matInput
            class="pw-single-bordered-input"
            [matDatepicker]="datePicker1"
            formControlName="businessDate"
            [min]="minDate"
            [max]="currentDate"
            (click)="datePicker.open()"
            readonly
            required
          />
          <mat-datepicker-toggle matSuffix [for]="datePicker1">
            <mat-icon matDatepickerToggleIcon>
              <span class="pw-i-12 pw-calender-icon-12"></span>
            </mat-icon>
          </mat-datepicker-toggle>
          <mat-datepicker #datePicker1></mat-datepicker>
          <mat-error
            *ngIf="
              cashDepositPasswordForm.get('businessDate').errors &&
              cashDepositPasswordForm.get('businessDate').errors.errorArray
            "
          >
            <poss-web-error-info-tooltip
              [errorMessage]="
                cashDepositPasswordForm.get('businessDate').errors.errorArray
              "
            ></poss-web-error-info-tooltip>
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label>{{
            'pw.passwordConfig.collectedDatePlaceholder' | translate
          }}</mat-label>
          <input
            matInput
            class="pw-single-bordered-input"
            [matDatepicker]="datePicker"
            formControlName="collectedDate"
            [min]="minDate"
            [max]="currentDate"
            (click)="datePicker.open()"
            readonly
            required
          />
          <mat-datepicker-toggle matSuffix [for]="datePicker">
            <mat-icon matDatepickerToggleIcon>
              <span class="pw-i-12 pw-calender-icon-12"></span>
            </mat-icon>
          </mat-datepicker-toggle>
          <mat-datepicker #datePicker></mat-datepicker>
          <mat-error
            *ngIf="
              cashDepositPasswordForm.get('collectedDate').errors &&
              cashDepositPasswordForm.get('collectedDate').errors.errorArray
            "
          >
            <poss-web-error-info-tooltip
              [errorMessage]="
                cashDepositPasswordForm.get('collectedDate').errors.errorArray
              "
            ></poss-web-error-info-tooltip>
          </mat-error>
        </mat-form-field>

        <mat-form-field>
          <input
            class="pw-single-bordered-input"
            matInput
            [placeholder]="
              'pw.passwordConfig.depositAmountPlaceholder' | translate
            "
            formControlName="depositAmount"
            possWebAmountInput
            required
          />

          <mat-error
            *ngIf="
              cashDepositPasswordForm.get('depositAmount').errors &&
              cashDepositPasswordForm.get('depositAmount').errors.errorArray
            "
          >
            <poss-web-error-info-tooltip
              [errorMessage]="
                cashDepositPasswordForm.get('depositAmount').errors.errorArray
              "
            ></poss-web-error-info-tooltip>
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <input
            class="pw-single-bordered-input"
            matInput
            [placeholder]="'pw.passwordConfig.remarksLabel' | translate"
            formControlName="remarks"
            required
          />

          <mat-error
            *ngIf="
              cashDepositPasswordForm.get('remarks').errors &&
              cashDepositPasswordForm.get('remarks').errors.errorArray
            "
          >
            <poss-web-error-info-tooltip
              [errorMessage]="
                cashDepositPasswordForm.get('remarks').errors.errorArray
              "
            ></poss-web-error-info-tooltip>
          </mat-error>
        </mat-form-field>
        <div class="row">
          <div class="col-auto">
            <button
              mat-button
              class="pw-btn pw-accent-btn"
              [disabled]="getPasswordBtnDisable"
            >
              {{ 'pw.passwordConfig.getPasswordLabel' | translate }}
            </button>
          </div>
          <div class="col-auto ml-auto">
            <button
              mat-button
              class="pw-btn pw-primary-btn"
              type="button"
              (click)="reset(cashDepositPasswordFormDirective)"
            >
              {{ 'pw.passwordConfig.clearLabel' | translate }}
            </button>
          </div>
        </div>
        <mat-form-field class="pw-form-card__margin-top">
          <input
            class="pw-single-bordered-input"
            matInput
            [placeholder]="'pw.passwordConfig.passwordLabel' | translate"
            formControlName="password"
            readonly
            [type]="show ? 'text' : 'password'"
          />

          <mat-error
            *ngIf="
              cashDepositPasswordForm.get('password').errors &&
              cashDepositPasswordForm.get('password').errors.errorArray
            "
          >
            <poss-web-error-info-tooltip
              [errorMessage]="
                cashDepositPasswordForm.get('password').errors.errorArray
              "
            ></poss-web-error-info-tooltip>
          </mat-error>
        </mat-form-field>
        <mat-checkbox class="pw-form-card__item" (change)="showPassword()">
          {{ 'pw.passwordConfig.showPasswordLabel' | translate }}</mat-checkbox
        >
      </form>
    </div>
  </div>
</div>
