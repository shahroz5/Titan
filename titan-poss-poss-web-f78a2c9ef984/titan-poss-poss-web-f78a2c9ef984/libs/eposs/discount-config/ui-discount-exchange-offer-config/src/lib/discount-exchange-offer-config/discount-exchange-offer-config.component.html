<div class="pw-font-weight-bold mb-2">{{ 'pw.discountExchangeOfferConfigView.detailsLabel' | translate }}</div>
<div class="pw-form-card" [formGroup]="exchangeOfferForm">
  <div class="row">
    <div class="col-auto">{{ 'pw.discountExchangeOfferConfigView.applicableCreditNotesLabel' | translate }} :</div>

    <mat-checkbox class="col-auto" formControlName="tepcreditNote"
      >{{ 'pw.discountExchangeOfferConfigView.tepLabel' | translate }}</mat-checkbox
    >
    <mat-checkbox class="col-auto" formControlName="gepcreditNote"
      >{{ 'pw.discountExchangeOfferConfigView.gepLabel' | translate }}</mat-checkbox
    >


  </div>
  <div class="row pw-form-card__margin-top">
    <div class="col-auto">{{ 'pw.discountExchangeOfferConfigView.minimumCNUtilisationLabel' | translate }} % :</div>
    <div class="col-auto">
      <mat-form-field
        appearance="outline"
        class="pw-full-bordered-input-box pw-form-field-padding-bottom-0"
      >
        <input
          matInput
          type="text"
          formControlName="minCNUtilisation"
          required
        />
        <mat-error
          *ngIf="
            exchangeOfferForm.get('minCNUtilisation').errors &&
            exchangeOfferForm.get('minCNUtilisation').errors.errorArray
          "
        >
          <poss-web-error-info-tooltip
            [errorMessage]="
              exchangeOfferForm.get('minCNUtilisation').errors.errorArray
            "
          ></poss-web-error-info-tooltip>
        </mat-error>
      </mat-form-field>
    </div>
  </div>
  <div class="row pw-form-card__margin-top">
    <div class="col-auto">{{ 'pw.discountExchangeOfferConfigView.minKaratForGepLabel' | translate }} :</div>
    <div class="col-auto">
      <mat-form-field
        appearance="outline"
        class="pw-full-bordered-input-box pw-form-field-padding-bottom-0"
      >
        <input
          matInput
          type="text"
          formControlName="minKaratageEligible"
          required
        />
        <mat-error
          *ngIf="
            exchangeOfferForm.get('minKaratageEligible').errors &&
            exchangeOfferForm.get('minKaratageEligible').errors.errorArray
          "
        >
          <poss-web-error-info-tooltip
            [errorMessage]="
              exchangeOfferForm.get('minKaratageEligible').errors.errorArray
            "
          ></poss-web-error-info-tooltip>
        </mat-error>
      </mat-form-field>
    </div>
  </div>
  <div class="row pw-form-card__margin-top">
    <div class="col-auto">{{ 'pw.discountExchangeOfferConfigView.residualRefundLabel' | translate }} :</div>

    <div class="col-auto">
      <mat-checkbox
        class="col-auto"
        formControlName="residualRefund"
      ></mat-checkbox>
    </div>
  </div>
</div>
<div class="row mt-4">
  <div class="col-auto ml-auto">
    <button
      class="pw-btn pw-accent-btn"
      [disabled]="!exchangeOfferForm.valid"
      (click)="save()"
    >
      {{ 'pw.discountApplicable.saveButton' | translate }}
    </button>
  </div>
</div>
